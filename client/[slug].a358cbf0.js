import{S as t,i as e,s,e as a,t as l,c as r,b as n,d as c,f as o,h,k as i,l as d,m as f,a as u,q as m,g as v,o as g,n as p}from"./client.83059fcd.js";import{c as y}from"./config.d1f992ad.js";const E=t=>((t=new Date(t)).setTime(t.getTime()+324e5),t.toISOString().replace(/\..+/,"+09:00"));function x(t,e,s){const a=t.slice();return a[2]=e[s],a}function D(t){let e,s,u=E(t[0].date)+"";return{c(){e=a("time"),s=l(u),this.h()},l(t){e=r(t,"TIME",{class:!0});var a=n(e);s=c(a,u),a.forEach(o),this.h()},h(){h(e,"class","svelte-1xsha26")},m(t,a){i(t,e,a),d(e,s)},p(t,e){1&e&&u!==(u=E(t[0].date)+"")&&f(s,u)},d(t){t&&o(e)}}}function I(t){let e,s,u,m=t[2]+"";return{c(){e=a("div"),s=l("#"),u=l(m),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=n(e);s=c(a,"#"),u=c(a,m),a.forEach(o),this.h()},h(){h(e,"class","tag svelte-1xsha26")},m(t,a){i(t,e,a),d(e,s),d(e,u)},p(t,e){1&e&&m!==(m=t[2]+"")&&f(u,m)},d(t){t&&o(e)}}}function $(t){let e,s;return{c(){e=a("div"),s=l("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=n(e);s=c(a,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),a.forEach(o),this.h()},h(){h(e,"class","callout svelte-1xsha26")},m(t,a){i(t,e,a),d(e,s)},d(t){t&&o(e)}}}function L(t){let e,s,E,L,R,S,w,b,H,T,U,V,j,k,M,O,A,P,q=t[0].title+"",G=t[0].html+"";document.title=e=t[0].title+" - "+new Date(t[0].date).toISOString().slice(0,10)+" | "+y.title;let N=t[0].date&&D(t),z=t[0].tags||[],B=[];for(let e=0;e<z.length;e+=1)B[e]=I(x(t,z,e));let C=t[0].from&&$();return{c(){s=u(),E=a("header"),L=a("div"),S=u(),w=a("h1"),b=l(q),H=u(),N&&N.c(),T=u(),U=a("div");for(let t=0;t<B.length;t+=1)B[t].c();V=u(),j=a("p"),k=a("a"),M=l("更新履歴"),O=u(),C&&C.c(),A=u(),P=a("div"),this.h()},l(t){m('[data-svelte="svelte-al9okn"]',document.head).forEach(o),s=v(t),E=r(t,"HEADER",{class:!0});var e=n(E);L=r(e,"DIV",{class:!0,style:!0}),n(L).forEach(o),S=v(e),w=r(e,"H1",{class:!0});var a=n(w);b=c(a,q),a.forEach(o),H=v(e),N&&N.l(e),T=v(e),U=r(e,"DIV",{class:!0});var l=n(U);for(let t=0;t<B.length;t+=1)B[t].l(l);l.forEach(o),V=v(e),j=r(e,"P",{class:!0});var h=n(j);k=r(h,"A",{href:!0});var i=n(k);M=c(i,"更新履歴"),i.forEach(o),h.forEach(o),e.forEach(o),O=v(t),C&&C.l(t),A=v(t),P=r(t,"DIV",{class:!0}),n(P).forEach(o),this.h()},h(){h(L,"class","img-header svelte-1xsha26"),h(L,"style",R=t[0].header?`background-image: url(${t[0].header})`:""),h(w,"class","svelte-1xsha26"),h(U,"class","tags"),h(k,"href",t[1]),h(j,"class","history svelte-1xsha26"),h(E,"class","svelte-1xsha26"),h(P,"class","content svelte-1xsha26")},m(t,e){i(t,s,e),i(t,E,e),d(E,L),d(E,S),d(E,w),d(w,b),d(E,H),N&&N.m(E,null),d(E,T),d(E,U);for(let t=0;t<B.length;t+=1)B[t].m(U,null);d(E,V),d(E,j),d(j,k),d(k,M),i(t,O,e),C&&C.m(t,e),i(t,A,e),i(t,P,e),P.innerHTML=G},p(t,[s]){if(1&s&&e!==(e=t[0].title+" - "+new Date(t[0].date).toISOString().slice(0,10)+" | "+y.title)&&(document.title=e),1&s&&R!==(R=t[0].header?`background-image: url(${t[0].header})`:"")&&h(L,"style",R),1&s&&q!==(q=t[0].title+"")&&f(b,q),t[0].date?N?N.p(t,s):(N=D(t),N.c(),N.m(E,T)):N&&(N.d(1),N=null),1&s){let e;for(z=t[0].tags||[],e=0;e<z.length;e+=1){const a=x(t,z,e);B[e]?B[e].p(a,s):(B[e]=I(a),B[e].c(),B[e].m(U,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=z.length}2&s&&h(k,"href",t[1]),t[0].from?C||(C=$(),C.c(),C.m(A.parentNode,A)):C&&(C.d(1),C=null),1&s&&G!==(G=t[0].html+"")&&(P.innerHTML=G)},i:g,o:g,d(t){t&&o(s),t&&o(E),N&&N.d(),p(B,t),t&&o(O),C&&C.d(t),t&&o(A),t&&o(P)}}}var R=function(t,e,s,a){return new(s||(s=Promise))((function(l,r){function n(t){try{o(a.next(t))}catch(t){r(t)}}function c(t){try{o(a.throw(t))}catch(t){r(t)}}function o(t){var e;t.done?l(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(n,c)}o((a=a.apply(t,e||[])).next())}))};function S({params:t}){return R(this,void 0,void 0,(function*(){const e=yield this.fetch(`${t.type}/${t.slug}.json`),s=yield e.json();if(200===e.status)return{post:s,historyURL:`https://github.com/${y.dataGitHubRepo}/commits/master/${t.type}/${t.slug}.md`};this.error(e.status,s.message)}))}function w(t,e,s){let{post:a}=e,{historyURL:l}=e;return t.$$set=t=>{"post"in t&&s(0,a=t.post),"historyURL"in t&&s(1,l=t.historyURL)},[a,l]}export default class extends t{constructor(t){super(),e(this,t,w,L,s,{post:0,historyURL:1})}}export{S as preload};
