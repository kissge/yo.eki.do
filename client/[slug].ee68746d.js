import{c as t,S as e,i as s,s as a,e as n,t as r,b as o,d as l,f as c,g as h,j as i,l as d,m as u,n as m,a as p,q as f,h as g,p as v,o as y}from"./client.f2dd095d.js";const E=t=>((t=new Date(t)).setTime(t.getTime()+324e5),t.toISOString().replace(/\..+/,"+09:00"));function x(t,e,s){const a=t.slice();return a[2]=e[s],a}function D(t){let e,s,a=E(t[0].date)+"";return{c(){e=n("time"),s=r(a),this.h()},l(t){e=o(t,"TIME",{class:!0});var n=l(e);s=c(n,a),n.forEach(h),this.h()},h(){i(e,"class","svelte-1xsha26")},m(t,a){d(t,e,a),u(e,s)},p(t,e){1&e&&a!==(a=E(t[0].date)+"")&&m(s,a)},d(t){t&&h(e)}}}function I(t){let e,s,a,p=t[2]+"";return{c(){e=n("div"),s=r("#"),a=r(p),this.h()},l(t){e=o(t,"DIV",{class:!0});var n=l(e);s=c(n,"#"),a=c(n,p),n.forEach(h),this.h()},h(){i(e,"class","tag svelte-1xsha26")},m(t,n){d(t,e,n),u(e,s),u(e,a)},p(t,e){1&e&&p!==(p=t[2]+"")&&m(a,p)},d(t){t&&h(e)}}}function S(t){let e,s;return{c(){e=n("div"),s=r("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l(t){e=o(t,"DIV",{class:!0});var a=l(e);s=c(a,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),a.forEach(h),this.h()},h(){i(e,"class","callout svelte-1xsha26")},m(t,a){d(t,e,a),u(e,s)},d(t){t&&h(e)}}}function T(e){let s,a,E,T,$,w,M,A,L,R,b,H,O,U,V,j,k,P,q,z,G,N,_,B,C,F,J,K=e[0].title+"",Q=e[0].html+"";document.title=s=e[0].title+" - "+new Date(e[0].date).toISOString().slice(0,10)+" | "+t.title;let W=e[0].date&&D(e),X=e[0].tags||[],Y=[];for(let t=0;t<X.length;t+=1)Y[t]=I(x(e,X,t));let Z=e[0].from&&S();return{c(){a=n("meta"),E=n("meta"),$=n("meta"),M=n("meta"),L=n("meta"),b=p(),H=n("header"),O=n("div"),V=p(),j=n("h1"),k=r(K),P=p(),W&&W.c(),q=p(),z=n("div");for(let t=0;t<Y.length;t+=1)Y[t].c();G=p(),N=n("p"),_=n("a"),B=r("更新履歴"),C=p(),Z&&Z.c(),F=p(),J=n("div"),this.h()},l(t){const e=f('[data-svelte="svelte-14mnzgr"]',document.head);a=o(e,"META",{property:!0,content:!0}),E=o(e,"META",{property:!0,content:!0}),$=o(e,"META",{property:!0,content:!0}),M=o(e,"META",{property:!0,content:!0}),L=o(e,"META",{property:!0,content:!0}),e.forEach(h),b=g(t),H=o(t,"HEADER",{class:!0});var s=l(H);O=o(s,"DIV",{class:!0,style:!0}),l(O).forEach(h),V=g(s),j=o(s,"H1",{class:!0});var n=l(j);k=c(n,K),n.forEach(h),P=g(s),W&&W.l(s),q=g(s),z=o(s,"DIV",{class:!0});var r=l(z);for(let t=0;t<Y.length;t+=1)Y[t].l(r);r.forEach(h),G=g(s),N=o(s,"P",{class:!0});var i=l(N);_=o(i,"A",{href:!0});var d=l(_);B=c(d,"更新履歴"),d.forEach(h),i.forEach(h),s.forEach(h),C=g(t),Z&&Z.l(t),F=g(t),J=o(t,"DIV",{class:!0}),l(J).forEach(h),this.h()},h(){i(a,"property","og:type"),i(a,"content","article"),i(E,"property","og:title"),i(E,"content",T=e[0].title+" - "+new Date(e[0].date).toISOString().slice(0,10)+" | "+t.title),i($,"property","og:description"),i($,"content",w=e[0].headline),i(M,"property","og:site_name"),i(M,"content",A=t.title),i(L,"property","og:image"),i(L,"content",R=e[0].header?/^\.{0,2}\//.test(e[0].header)?t.host+"/"+e[0].header:e[0].header:t.host+"/images/default.png"),i(O,"class","img-header svelte-1xsha26"),i(O,"style",U=e[0].header?`background-image: url(${e[0].header})`:""),i(j,"class","svelte-1xsha26"),i(z,"class","tags"),i(_,"href",e[1]),i(N,"class","history svelte-1xsha26"),i(H,"class","svelte-1xsha26"),i(J,"class","content svelte-1xsha26")},m(t,e){u(document.head,a),u(document.head,E),u(document.head,$),u(document.head,M),u(document.head,L),d(t,b,e),d(t,H,e),u(H,O),u(H,V),u(H,j),u(j,k),u(H,P),W&&W.m(H,null),u(H,q),u(H,z);for(let t=0;t<Y.length;t+=1)Y[t].m(z,null);u(H,G),u(H,N),u(N,_),u(_,B),d(t,C,e),Z&&Z.m(t,e),d(t,F,e),d(t,J,e),J.innerHTML=Q},p(e,[a]){if(1&a&&s!==(s=e[0].title+" - "+new Date(e[0].date).toISOString().slice(0,10)+" | "+t.title)&&(document.title=s),1&a&&T!==(T=e[0].title+" - "+new Date(e[0].date).toISOString().slice(0,10)+" | "+t.title)&&i(E,"content",T),1&a&&w!==(w=e[0].headline)&&i($,"content",w),1&a&&R!==(R=e[0].header?/^\.{0,2}\//.test(e[0].header)?t.host+"/"+e[0].header:e[0].header:t.host+"/images/default.png")&&i(L,"content",R),1&a&&U!==(U=e[0].header?`background-image: url(${e[0].header})`:"")&&i(O,"style",U),1&a&&K!==(K=e[0].title+"")&&m(k,K),e[0].date?W?W.p(e,a):(W=D(e),W.c(),W.m(H,q)):W&&(W.d(1),W=null),1&a){let t;for(X=e[0].tags||[],t=0;t<X.length;t+=1){const s=x(e,X,t);Y[t]?Y[t].p(s,a):(Y[t]=I(s),Y[t].c(),Y[t].m(z,null))}for(;t<Y.length;t+=1)Y[t].d(1);Y.length=X.length}2&a&&i(_,"href",e[1]),e[0].from?Z||(Z=S(),Z.c(),Z.m(F.parentNode,F)):Z&&(Z.d(1),Z=null),1&a&&Q!==(Q=e[0].html+"")&&(J.innerHTML=Q)},i:v,o:v,d(t){h(a),h(E),h($),h(M),h(L),t&&h(b),t&&h(H),W&&W.d(),y(Y,t),t&&h(C),Z&&Z.d(t),t&&h(F),t&&h(J)}}}var $=function(t,e,s,a){return new(s||(s=Promise))((function(n,r){function o(t){try{c(a.next(t))}catch(t){r(t)}}function l(t){try{c(a.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,l)}c((a=a.apply(t,e||[])).next())}))};function w({params:e}){return $(this,void 0,void 0,(function*(){const s=yield this.fetch(`${e.type}/${e.slug}.json`),a=yield s.json();if(200===s.status)return{post:a,historyURL:`https://github.com/${t.dataGitHubRepo}/commits/master/${e.type}/${e.slug}.md`};this.error(s.status,a.message)}))}function M(t,e,s){let{post:a}=e,{historyURL:n}=e;return t.$$set=t=>{"post"in t&&s(0,a=t.post),"historyURL"in t&&s(1,n=t.historyURL)},[a,n]}export default class extends e{constructor(t){super(),s(this,t,M,T,a,{post:0,historyURL:1})}}export{w as preload};
