import{c as t,S as e,i as n,s,e as a,b as o,d as r,g as l,j as c,l as i,t as h,f as d,m as u,n as m,a as p,q as f,h as g,p as v,o as y,r as b,u as E,v as T,H as w}from"./client.b795f5c8.js";const L=t=>((t=new Date(t)).setTime(t.getTime()+324e5),t.toISOString().replace(/\..+/,"+09:00").replace(/(T|\+09:00)/g,'<span class="date-weak">$1</span>')),I=()=>{class t extends HTMLElement{connectedCallback(){const t=document.createElement("script");Array.from(this.attributes).forEach((e=>t.setAttribute(e.name,e.value)));const e=document.createElement("iframe");e.style.border="0",e.style.width="100%",e.style.height="0",e.srcdoc='<body style="margin: 0">'+this.innerHTML+t.outerHTML,this.innerHTML="",this.appendChild(e);for(let t=0;t<5e3;t+=100)setTimeout((()=>{var t;e.style.height=(null===(t=e.contentDocument.body)||void 0===t?void 0:t.clientHeight)+30+"px"}),t)}}customElements.define("x-script",t)};function M(t,e,n){const s=t.slice();return s[3]=e[n],s}function H(t,e,n){const s=t.slice();return s[6]=e[n],s}function S(t){let e,n=L(t[1].date)+"";return{c(){e=a("time"),this.h()},l(t){e=o(t,"TIME",{class:!0}),r(e).forEach(l),this.h()},h(){c(e,"class","svelte-bluf97")},m(t,s){i(t,e,s),e.innerHTML=n},p(t,s){2&s&&n!==(n=L(t[1].date)+"")&&(e.innerHTML=n)},d(t){t&&l(e)}}}function D(t){let e,n,s,p=t[6]+"";return{c(){e=a("div"),n=h("#"),s=h(p),this.h()},l(t){e=o(t,"DIV",{class:!0});var a=r(e);n=d(a,"#"),s=d(a,p),a.forEach(l),this.h()},h(){c(e,"class","tag svelte-bluf97")},m(t,a){i(t,e,a),u(e,n),u(e,s)},p(t,e){2&e&&p!==(p=t[6]+"")&&m(s,p)},d(t){t&&l(e)}}}function A(t){let e,n;return{c(){e=a("div"),n=h("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l(t){e=o(t,"DIV",{class:!0});var s=r(e);n=d(s,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),s.forEach(l),this.h()},h(){c(e,"class","callout svelte-bluf97")},m(t,s){i(t,e,s),u(e,n)},d(t){t&&l(e)}}}function x(t){let e;return{c(){e=h("Loading mentions...")},l(t){e=d(t,"Loading mentions...")},m(t,n){i(t,e,n)},p:v,d(t){t&&l(e)}}}function R(t){let e,n=t[0].children,s=[];for(let e=0;e<n.length;e+=1)s[e]=O(M(t,n,e));let a=null;return n.length||(a=$()),{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=T(),a&&a.c()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=T(),a&&a.l(t)},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);i(t,e,n),a&&a.m(t,n)},p(t,o){if(1&o){let r;for(n=t[0].children,r=0;r<n.length;r+=1){const a=M(t,n,r);s[r]?s[r].p(a,o):(s[r]=O(a),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length,n.length?a&&(a.d(1),a=null):a||(a=$(),a.c(),a.m(e.parentNode,e))}},d(t){y(s,t),t&&l(e),a&&a.d(t)}}}function $(t){let e;return{c(){e=h("Twitterで言及していただけると自動的にここに収集されます。")},l(t){e=d(t,"Twitterで言及していただけると自動的にここに収集されます。")},m(t,n){i(t,e,n)},d(t){t&&l(e)}}}function j(t){let e,n,s=t[3].content.text+"";return{c(){e=a("blockquote"),n=h(s),this.h()},l(t){e=o(t,"BLOCKQUOTE",{class:!0});var a=r(e);n=d(a,s),a.forEach(l),this.h()},h(){c(e,"class","svelte-bluf97")},m(t,s){i(t,e,s),u(e,n)},p(t,e){1&e&&s!==(s=t[3].content.text+"")&&m(n,s)},d(t){t&&l(e)}}}function O(t){let e,n,s,f,v,y,b,E,T,I,M,H,S,D,A,x=t[3]["wm-property"]+"",R=t[3].author.name+"",$=L(t[3].published||t[3]["wm-received"])+"",O="mention-of"===t[3]["wm-property"]&&j(t);return{c(){e=a("li"),n=a("a"),s=h(x),v=p(),y=a("a"),b=a("img"),I=h(R),H=h("\n          at "),D=p(),O&&O.c(),A=p(),this.h()},l(t){e=o(t,"LI",{});var a=r(e);n=o(a,"A",{href:!0});var c=r(n);s=d(c,x),c.forEach(l),v=g(a),y=o(a,"A",{href:!0});var i=r(y);b=o(i,"IMG",{src:!0,alt:!0,class:!0}),I=d(i,R),i.forEach(l),H=d(a,"\n          at "),D=g(a),O&&O.l(a),A=g(a),a.forEach(l),this.h()},h(){c(n,"href",f=t[3].url),b.src!==(E=t[3].author.photo)&&c(b,"src",E),c(b,"alt",T=t[3].author.name),c(b,"class","svelte-bluf97"),c(y,"href",M=t[3].author.url),S=new w(D)},m(t,a){i(t,e,a),u(e,n),u(n,s),u(e,v),u(e,y),u(y,b),u(y,I),u(e,H),S.m($,e),u(e,D),O&&O.m(e,null),u(e,A)},p(t,a){1&a&&x!==(x=t[3]["wm-property"]+"")&&m(s,x),1&a&&f!==(f=t[3].url)&&c(n,"href",f),1&a&&b.src!==(E=t[3].author.photo)&&c(b,"src",E),1&a&&T!==(T=t[3].author.name)&&c(b,"alt",T),1&a&&R!==(R=t[3].author.name+"")&&m(I,R),1&a&&M!==(M=t[3].author.url)&&c(y,"href",M),1&a&&$!==($=L(t[3].published||t[3]["wm-received"])+"")&&S.p($),"mention-of"===t[3]["wm-property"]?O?O.p(t,a):(O=j(t),O.c(),O.m(e,A)):O&&(O.d(1),O=null)},d(t){t&&l(e),O&&O.d()}}}function C(e){let n,s,b,T,w,L,I,M,$,j,O,C,U,k,V,N,P,q,G,z,B,K,Q,X,_,F,J,W,Y,Z,tt,et,nt,st,at=e[1].title+"",ot=e[1].html+"";document.title=n=e[1].title+" - "+new Date(e[1].date).toISOString().slice(0,10)+" | "+t.title;let rt=e[1].date&&S(e),lt=e[1].tags||[],ct=[];for(let t=0;t<lt.length;t+=1)ct[t]=D(H(e,lt,t));let it=e[1].from&&A(),ht=function(e){let n,s,c;return{c(){n=a("x-script"),this.h()},l(t){n=o(t,"X-SCRIPT",{"data-ad-client":!0,async:!0,src:!0}),r(n).forEach(l),this.h()},h(){E(n,"data-ad-client",s=t.googleAdSenseClientID),E(n,"async",""),n.src!==(c="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")&&E(n,"src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")},m(t,e){i(t,n,e)},p:v,d(t){t&&l(n)}}}();function dt(t,e){return t[0]?R:x}let ut=dt(e),mt=ut(e);return{c(){s=a("meta"),b=a("meta"),w=a("meta"),I=a("meta"),$=a("meta"),O=p(),C=a("header"),U=a("div"),V=p(),N=a("h1"),P=h(at),q=p(),rt&&rt.c(),G=p(),z=a("div");for(let t=0;t<ct.length;t+=1)ct[t].c();B=p(),K=a("p"),Q=a("a"),X=h("更新履歴"),_=p(),it&&it.c(),F=p(),J=a("div"),W=p(),ht&&ht.c(),Y=p(),Z=a("section"),tt=a("h1"),et=h("Recent public mentions on Twitter"),nt=p(),st=a("ol"),mt.c(),this.h()},l(t){const e=f('[data-svelte="svelte-14mnzgr"]',document.head);s=o(e,"META",{property:!0,content:!0}),b=o(e,"META",{property:!0,content:!0}),w=o(e,"META",{property:!0,content:!0}),I=o(e,"META",{property:!0,content:!0}),$=o(e,"META",{property:!0,content:!0}),e.forEach(l),O=g(t),C=o(t,"HEADER",{class:!0});var n=r(C);U=o(n,"DIV",{class:!0,style:!0}),r(U).forEach(l),V=g(n),N=o(n,"H1",{class:!0});var a=r(N);P=d(a,at),a.forEach(l),q=g(n),rt&&rt.l(n),G=g(n),z=o(n,"DIV",{class:!0});var c=r(z);for(let t=0;t<ct.length;t+=1)ct[t].l(c);c.forEach(l),B=g(n),K=o(n,"P",{class:!0});var i=r(K);Q=o(i,"A",{href:!0});var h=r(Q);X=d(h,"更新履歴"),h.forEach(l),i.forEach(l),n.forEach(l),_=g(t),it&&it.l(t),F=g(t),J=o(t,"DIV",{class:!0}),r(J).forEach(l),W=g(t),ht&&ht.l(t),Y=g(t),Z=o(t,"SECTION",{class:!0});var u=r(Z);tt=o(u,"H1",{class:!0});var m=r(tt);et=d(m,"Recent public mentions on Twitter"),m.forEach(l),nt=g(u),st=o(u,"OL",{});var p=r(st);mt.l(p),p.forEach(l),u.forEach(l),this.h()},h(){c(s,"property","og:type"),c(s,"content","article"),c(b,"property","og:title"),c(b,"content",T=e[1].title+" - "+new Date(e[1].date).toISOString().slice(0,10)+" | "+t.title),c(w,"property","og:description"),c(w,"content",L=e[1].headline),c(I,"property","og:site_name"),c(I,"content",M=t.title),c($,"property","og:image"),c($,"content",j=e[1].header?/^\.{0,2}\//.test(e[1].header)?t.host+"/"+e[1].header:e[1].header:t.host+"/images/default.png"),c(U,"class","img-header svelte-bluf97"),c(U,"style",k=e[1].header?`background-image: url(${e[1].header})`:""),c(N,"class","svelte-bluf97"),c(z,"class","tags"),c(Q,"href",e[2]),c(K,"class","history svelte-bluf97"),c(C,"class","svelte-bluf97"),c(J,"class","content svelte-bluf97"),c(tt,"class","svelte-bluf97"),c(Z,"class","mentions svelte-bluf97")},m(t,e){u(document.head,s),u(document.head,b),u(document.head,w),u(document.head,I),u(document.head,$),i(t,O,e),i(t,C,e),u(C,U),u(C,V),u(C,N),u(N,P),u(C,q),rt&&rt.m(C,null),u(C,G),u(C,z);for(let t=0;t<ct.length;t+=1)ct[t].m(z,null);u(C,B),u(C,K),u(K,Q),u(Q,X),i(t,_,e),it&&it.m(t,e),i(t,F,e),i(t,J,e),J.innerHTML=ot,i(t,W,e),ht&&ht.m(t,e),i(t,Y,e),i(t,Z,e),u(Z,tt),u(tt,et),u(Z,nt),u(Z,st),mt.m(st,null)},p(e,[s]){if(2&s&&n!==(n=e[1].title+" - "+new Date(e[1].date).toISOString().slice(0,10)+" | "+t.title)&&(document.title=n),2&s&&T!==(T=e[1].title+" - "+new Date(e[1].date).toISOString().slice(0,10)+" | "+t.title)&&c(b,"content",T),2&s&&L!==(L=e[1].headline)&&c(w,"content",L),2&s&&j!==(j=e[1].header?/^\.{0,2}\//.test(e[1].header)?t.host+"/"+e[1].header:e[1].header:t.host+"/images/default.png")&&c($,"content",j),2&s&&k!==(k=e[1].header?`background-image: url(${e[1].header})`:"")&&c(U,"style",k),2&s&&at!==(at=e[1].title+"")&&m(P,at),e[1].date?rt?rt.p(e,s):(rt=S(e),rt.c(),rt.m(C,G)):rt&&(rt.d(1),rt=null),2&s){let t;for(lt=e[1].tags||[],t=0;t<lt.length;t+=1){const n=H(e,lt,t);ct[t]?ct[t].p(n,s):(ct[t]=D(n),ct[t].c(),ct[t].m(z,null))}for(;t<ct.length;t+=1)ct[t].d(1);ct.length=lt.length}4&s&&c(Q,"href",e[2]),e[1].from?it||(it=A(),it.c(),it.m(F.parentNode,F)):it&&(it.d(1),it=null),2&s&&ot!==(ot=e[1].html+"")&&(J.innerHTML=ot),ht.p(e,s),ut===(ut=dt(e))&&mt?mt.p(e,s):(mt.d(1),mt=ut(e),mt&&(mt.c(),mt.m(st,null)))},i:v,o:v,d(t){l(s),l(b),l(w),l(I),l($),t&&l(O),t&&l(C),rt&&rt.d(),y(ct,t),t&&l(_),it&&it.d(t),t&&l(F),t&&l(J),t&&l(W),ht&&ht.d(t),t&&l(Y),t&&l(Z),mt.d()}}}var U=function(t,e,n,s){return new(n||(n=Promise))((function(a,o){function r(t){try{c(s.next(t))}catch(t){o(t)}}function l(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,l)}c((s=s.apply(t,e||[])).next())}))};function k({params:e}){return U(this,void 0,void 0,(function*(){const n=yield this.fetch(`${e.type}/${e.slug}.json`),s=yield n.json();if(200===n.status)return{post:s,historyURL:`https://github.com/${t.dataGitHubRepo}/commits/master/${e.type}/${e.slug}.md`};this.error(n.status,s.message)}))}function V(e,n,s){let{post:a}=n,{historyURL:o}=n,{mentions:r}=n;return b((()=>{fetch("https://webmention.io/api/mentions.jf2?target="+encodeURIComponent(t.host+location.pathname+(location.pathname.match(/\/$/)?"":"/"))).then((t=>t.json().then((t=>{s(0,r=t),r.children.sort(((t,e)=>(e.published||e["wm-received"]).localeCompare(t.published||t["wm-received"])))})))),I()})),e.$$set=t=>{"post"in t&&s(1,a=t.post),"historyURL"in t&&s(2,o=t.historyURL),"mentions"in t&&s(0,r=t.mentions)},[r,a,o]}export default class extends e{constructor(t){super(),n(this,t,V,C,s,{post:1,historyURL:2,mentions:0})}}export{k as preload};
