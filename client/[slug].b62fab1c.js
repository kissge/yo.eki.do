import{c as t,S as e,i as s,s as a,e as l,t as n,b as r,d as c,f as o,g as h,j as i,l as u,m as d,n as f,a as m,q as v,h as g,p,o as y}from"./client.8de13ae4.js";const E=t=>((t=new Date(t)).setTime(t.getTime()+324e5),t.toISOString().replace(/\..+/,"+09:00"));function x(t,e,s){const a=t.slice();return a[2]=e[s],a}function D(t){let e,s,a=E(t[0].date)+"";return{c(){e=l("time"),s=n(a),this.h()},l(t){e=r(t,"TIME",{class:!0});var l=c(e);s=o(l,a),l.forEach(h),this.h()},h(){i(e,"class","svelte-1xsha26")},m(t,a){u(t,e,a),d(e,s)},p(t,e){1&e&&a!==(a=E(t[0].date)+"")&&f(s,a)},d(t){t&&h(e)}}}function I(t){let e,s,a,m=t[2]+"";return{c(){e=l("div"),s=n("#"),a=n(m),this.h()},l(t){e=r(t,"DIV",{class:!0});var l=c(e);s=o(l,"#"),a=o(l,m),l.forEach(h),this.h()},h(){i(e,"class","tag svelte-1xsha26")},m(t,l){u(t,e,l),d(e,s),d(e,a)},p(t,e){1&e&&m!==(m=t[2]+"")&&f(a,m)},d(t){t&&h(e)}}}function $(t){let e,s;return{c(){e=l("div"),s=n("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=c(e);s=o(a,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),a.forEach(h),this.h()},h(){i(e,"class","callout svelte-1xsha26")},m(t,a){u(t,e,a),d(e,s)},d(t){t&&h(e)}}}function L(e){let s,a,E,L,R,S,w,b,H,T,U,V,j,k,M,O,A,P,q=e[0].title+"",G=e[0].html+"";document.title=s=e[0].title+" - "+new Date(e[0].date).toISOString().slice(0,10)+" | "+t.title;let N=e[0].date&&D(e),z=e[0].tags||[],B=[];for(let t=0;t<z.length;t+=1)B[t]=I(x(e,z,t));let C=e[0].from&&$();return{c(){a=m(),E=l("header"),L=l("div"),S=m(),w=l("h1"),b=n(q),H=m(),N&&N.c(),T=m(),U=l("div");for(let t=0;t<B.length;t+=1)B[t].c();V=m(),j=l("p"),k=l("a"),M=n("更新履歴"),O=m(),C&&C.c(),A=m(),P=l("div"),this.h()},l(t){v('[data-svelte="svelte-al9okn"]',document.head).forEach(h),a=g(t),E=r(t,"HEADER",{class:!0});var e=c(E);L=r(e,"DIV",{class:!0,style:!0}),c(L).forEach(h),S=g(e),w=r(e,"H1",{class:!0});var s=c(w);b=o(s,q),s.forEach(h),H=g(e),N&&N.l(e),T=g(e),U=r(e,"DIV",{class:!0});var l=c(U);for(let t=0;t<B.length;t+=1)B[t].l(l);l.forEach(h),V=g(e),j=r(e,"P",{class:!0});var n=c(j);k=r(n,"A",{href:!0});var i=c(k);M=o(i,"更新履歴"),i.forEach(h),n.forEach(h),e.forEach(h),O=g(t),C&&C.l(t),A=g(t),P=r(t,"DIV",{class:!0}),c(P).forEach(h),this.h()},h(){i(L,"class","img-header svelte-1xsha26"),i(L,"style",R=e[0].header?`background-image: url(${e[0].header})`:""),i(w,"class","svelte-1xsha26"),i(U,"class","tags"),i(k,"href",e[1]),i(j,"class","history svelte-1xsha26"),i(E,"class","svelte-1xsha26"),i(P,"class","content svelte-1xsha26")},m(t,e){u(t,a,e),u(t,E,e),d(E,L),d(E,S),d(E,w),d(w,b),d(E,H),N&&N.m(E,null),d(E,T),d(E,U);for(let t=0;t<B.length;t+=1)B[t].m(U,null);d(E,V),d(E,j),d(j,k),d(k,M),u(t,O,e),C&&C.m(t,e),u(t,A,e),u(t,P,e),P.innerHTML=G},p(e,[a]){if(1&a&&s!==(s=e[0].title+" - "+new Date(e[0].date).toISOString().slice(0,10)+" | "+t.title)&&(document.title=s),1&a&&R!==(R=e[0].header?`background-image: url(${e[0].header})`:"")&&i(L,"style",R),1&a&&q!==(q=e[0].title+"")&&f(b,q),e[0].date?N?N.p(e,a):(N=D(e),N.c(),N.m(E,T)):N&&(N.d(1),N=null),1&a){let t;for(z=e[0].tags||[],t=0;t<z.length;t+=1){const s=x(e,z,t);B[t]?B[t].p(s,a):(B[t]=I(s),B[t].c(),B[t].m(U,null))}for(;t<B.length;t+=1)B[t].d(1);B.length=z.length}2&a&&i(k,"href",e[1]),e[0].from?C||(C=$(),C.c(),C.m(A.parentNode,A)):C&&(C.d(1),C=null),1&a&&G!==(G=e[0].html+"")&&(P.innerHTML=G)},i:p,o:p,d(t){t&&h(a),t&&h(E),N&&N.d(),y(B,t),t&&h(O),C&&C.d(t),t&&h(A),t&&h(P)}}}var R=function(t,e,s,a){return new(s||(s=Promise))((function(l,n){function r(t){try{o(a.next(t))}catch(t){n(t)}}function c(t){try{o(a.throw(t))}catch(t){n(t)}}function o(t){var e;t.done?l(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(r,c)}o((a=a.apply(t,e||[])).next())}))};function S({params:e}){return R(this,void 0,void 0,(function*(){const s=yield this.fetch(`${e.type}/${e.slug}.json`),a=yield s.json();if(200===s.status)return{post:a,historyURL:`https://github.com/${t.dataGitHubRepo}/commits/master/${e.type}/${e.slug}.md`};this.error(s.status,a.message)}))}function w(t,e,s){let{post:a}=e,{historyURL:l}=e;return t.$$set=t=>{"post"in t&&s(0,a=t.post),"historyURL"in t&&s(1,l=t.historyURL)},[a,l]}export default class extends e{constructor(t){super(),s(this,t,w,L,a,{post:0,historyURL:1})}}export{S as preload};
