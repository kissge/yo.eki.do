import{S as t,i as e,s,e as a,t as l,c as n,b as r,d as c,f as o,h,k as i,l as u,m as d,a as f,q as m,g,o as v,n as p}from"./client.605452dc.js";import{c as E}from"./config.d1f992ad.js";const x=t=>((t=new Date(t)).setTime(t.getTime()+324e5),t.toISOString().replace(/\..+/,"+09:00"));function y(t,e,s){const a=t.slice();return a[1]=e[s],a}function D(t){let e,s,f=x(t[0].date)+"";return{c(){e=a("time"),s=l(f),this.h()},l(t){e=n(t,"TIME",{class:!0});var a=r(e);s=c(a,f),a.forEach(o),this.h()},h(){h(e,"class","svelte-1xsha26")},m(t,a){i(t,e,a),u(e,s)},p(t,e){1&e&&f!==(f=x(t[0].date)+"")&&d(s,f)},d(t){t&&o(e)}}}function I(t){let e,s,f,m=t[1]+"";return{c(){e=a("div"),s=l("#"),f=l(m),this.h()},l(t){e=n(t,"DIV",{class:!0});var a=r(e);s=c(a,"#"),f=c(a,m),a.forEach(o),this.h()},h(){h(e,"class","tag svelte-1xsha26")},m(t,a){i(t,e,a),u(e,s),u(e,f)},p(t,e){1&e&&m!==(m=t[1]+"")&&d(f,m)},d(t){t&&o(e)}}}function b(t){let e,s;return{c(){e=a("div"),s=l("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l(t){e=n(t,"DIV",{class:!0});var a=r(e);s=c(a,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),a.forEach(o),this.h()},h(){h(e,"class","callout svelte-1xsha26")},m(t,a){i(t,e,a),u(e,s)},d(t){t&&o(e)}}}function S(t){let e,s,x,S,w,H,$,T,V,j,k,M,O,R,A,G,L,P,q,N=t[0].title+"",z=t[0].html+"";document.title=e=t[0].title+" - "+new Date(t[0].date).toISOString().slice(0,10)+" | "+E.title;let B=t[0].date&&D(t),C=t[0].tags||[],F=[];for(let e=0;e<C.length;e+=1)F[e]=I(y(t,C,e));let J=t[0].from&&b();return{c(){s=f(),x=a("header"),S=a("div"),H=f(),$=a("h1"),T=l(N),V=f(),B&&B.c(),j=f(),k=a("div");for(let t=0;t<F.length;t+=1)F[t].c();M=f(),O=a("p"),R=a("a"),A=l("更新履歴"),L=f(),J&&J.c(),P=f(),q=a("div"),this.h()},l(t){m('[data-svelte="svelte-al9okn"]',document.head).forEach(o),s=g(t),x=n(t,"HEADER",{class:!0});var e=r(x);S=n(e,"DIV",{class:!0,style:!0}),r(S).forEach(o),H=g(e),$=n(e,"H1",{class:!0});var a=r($);T=c(a,N),a.forEach(o),V=g(e),B&&B.l(e),j=g(e),k=n(e,"DIV",{class:!0});var l=r(k);for(let t=0;t<F.length;t+=1)F[t].l(l);l.forEach(o),M=g(e),O=n(e,"P",{class:!0});var h=r(O);R=n(h,"A",{href:!0});var i=r(R);A=c(i,"更新履歴"),i.forEach(o),h.forEach(o),e.forEach(o),L=g(t),J&&J.l(t),P=g(t),q=n(t,"DIV",{class:!0}),r(q).forEach(o),this.h()},h(){h(S,"class","img-header svelte-1xsha26"),h(S,"style",w=t[0].header?`background-image: url(${t[0].header})`:""),h($,"class","svelte-1xsha26"),h(k,"class","tags"),h(R,"href",G="https://github.com/"+E.dataGitHubRepo+"/commits/master/notes/"+t[0].slug+".md"),h(O,"class","history svelte-1xsha26"),h(x,"class","svelte-1xsha26"),h(q,"class","content svelte-1xsha26")},m(t,e){i(t,s,e),i(t,x,e),u(x,S),u(x,H),u(x,$),u($,T),u(x,V),B&&B.m(x,null),u(x,j),u(x,k);for(let t=0;t<F.length;t+=1)F[t].m(k,null);u(x,M),u(x,O),u(O,R),u(R,A),i(t,L,e),J&&J.m(t,e),i(t,P,e),i(t,q,e),q.innerHTML=z},p(t,[s]){if(1&s&&e!==(e=t[0].title+" - "+new Date(t[0].date).toISOString().slice(0,10)+" | "+E.title)&&(document.title=e),1&s&&w!==(w=t[0].header?`background-image: url(${t[0].header})`:"")&&h(S,"style",w),1&s&&N!==(N=t[0].title+"")&&d(T,N),t[0].date?B?B.p(t,s):(B=D(t),B.c(),B.m(x,j)):B&&(B.d(1),B=null),1&s){let e;for(C=t[0].tags||[],e=0;e<C.length;e+=1){const a=y(t,C,e);F[e]?F[e].p(a,s):(F[e]=I(a),F[e].c(),F[e].m(k,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=C.length}1&s&&G!==(G="https://github.com/"+E.dataGitHubRepo+"/commits/master/notes/"+t[0].slug+".md")&&h(R,"href",G),t[0].from?J||(J=b(),J.c(),J.m(P.parentNode,P)):J&&(J.d(1),J=null),1&s&&z!==(z=t[0].html+"")&&(q.innerHTML=z)},i:v,o:v,d(t){t&&o(s),t&&o(x),B&&B.d(),p(F,t),t&&o(L),J&&J.d(t),t&&o(P),t&&o(q)}}}var w=function(t,e,s,a){return new(s||(s=Promise))((function(l,n){function r(t){try{o(a.next(t))}catch(t){n(t)}}function c(t){try{o(a.throw(t))}catch(t){n(t)}}function o(t){var e;t.done?l(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(r,c)}o((a=a.apply(t,e||[])).next())}))};function H({params:t}){return w(this,void 0,void 0,(function*(){const e=yield this.fetch(`${t.type}/${t.slug}.json`),s=yield e.json();if(200===e.status)return{post:s};this.error(e.status,s.message)}))}function $(t,e,s){let{post:a}=e;return t.$$set=t=>{"post"in t&&s(0,a=t.post)},[a]}export default class extends t{constructor(t){super(),e(this,t,$,S,s,{post:0})}}export{H as preload};
