import{y as t,_ as e,a as n,b as r,c as o,i as a,d as c,S as s,e as i,s as l,f as u,h,j as f,l as d,n as p,p as m,t as v,k as g,q as y,r as E,g as w,v as T,m as b,w as L,x as I,u as x,z as R,A as D,H as M,B as S}from"./client.34d31167.js";const H=t=>((t=new Date(t)).setTime(t.getTime()+324e5),t.toISOString().replace(/\..+/,"+09:00").replace(/(T|\+09:00)/g,'<span class="date-weak">$1</span>')),A=()=>{class t extends HTMLElement{connectedCallback(){const t=document.createElement("script");Array.from(this.attributes).forEach((e=>t.setAttribute(e.name,e.value)));const e=document.createElement("iframe");e.style.border="0",e.style.width="100%",e.style.height="0",e.srcdoc='<body style="margin: 0">'+this.innerHTML+t.outerHTML,this.innerHTML="",this.appendChild(e);for(let t=0;t<5e3;t+=100)setTimeout((()=>{var t;e.style.height=(null===(t=e.contentDocument.body)||void 0===t?void 0:t.clientHeight)+30+"px"}),t)}}customElements.define("x-script",t)};function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,a=n(t);if(e){var c=n(this).constructor;o=Reflect.construct(a,arguments,c)}else o=a.apply(this,arguments);return r(this,o)}}function O(t,e,n){var r=t.slice();return r[3]=e[n],r}function k(t,e,n){var r=t.slice();return r[6]=e[n],r}function C(t){var e,n=H(t[1].date)+"";return{c:function(){e=u("time"),this.h()},l:function(t){e=h(t,"TIME",{class:!0}),f(e).forEach(d),this.h()},h:function(){p(e,"class","svelte-use3p6")},m:function(t,r){m(t,e,r),e.innerHTML=n},p:function(t,r){2&r&&n!==(n=H(t[1].date)+"")&&(e.innerHTML=n)},d:function(t){t&&d(e)}}}function U(t){var e,n,r,o=t[6]+"";return{c:function(){e=u("div"),n=v("#"),r=v(o),this.h()},l:function(t){e=h(t,"DIV",{class:!0});var a=f(e);n=g(a,"#"),r=g(a,o),a.forEach(d),this.h()},h:function(){p(e,"class","tag svelte-use3p6")},m:function(t,o){m(t,e,o),y(e,n),y(e,r)},p:function(t,e){2&e&&o!==(o=t[6]+"")&&E(r,o)},d:function(t){t&&d(e)}}}function V(t){var e,n;return{c:function(){e=u("div"),n=v("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l:function(t){e=h(t,"DIV",{class:!0});var r=f(e);n=g(r,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),r.forEach(d),this.h()},h:function(){p(e,"class","callout svelte-use3p6")},m:function(t,r){m(t,e,r),y(e,n)},d:function(t){t&&d(e)}}}function N(t){var e;return{c:function(){e=v("Loading mentions...")},l:function(t){e=g(t,"Loading mentions...")},m:function(t,n){m(t,e,n)},p:I,d:function(t){t&&d(e)}}}function P(t){for(var e,n=t[0].children,r=[],o=0;o<n.length;o+=1)r[o]=z(O(t,n,o));var a=null;return n.length||(a=$()),{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=S(),a&&a.c()},l:function(t){for(var n=0;n<r.length;n+=1)r[n].l(t);e=S(),a&&a.l(t)},m:function(t,n){for(var o=0;o<r.length;o+=1)r[o].m(t,n);m(t,e,n),a&&a.m(t,n)},p:function(t,o){if(1&o){var c;for(n=t[0].children,c=0;c<n.length;c+=1){var s=O(t,n,c);r[c]?r[c].p(s,o):(r[c]=z(s),r[c].c(),r[c].m(e.parentNode,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length,n.length?a&&(a.d(1),a=null):a||((a=$()).c(),a.m(e.parentNode,e))}},d:function(t){x(r,t),t&&d(e),a&&a.d(t)}}}function $(t){var e;return{c:function(){e=v("Twitterで言及していただけると自動的にここに収集されます。")},l:function(t){e=g(t,"Twitterで言及していただけると自動的にここに収集されます。")},m:function(t,n){m(t,e,n)},d:function(t){t&&d(e)}}}function q(t){var e,n,r=t[3].content.text+"";return{c:function(){e=u("blockquote"),n=v(r),this.h()},l:function(t){e=h(t,"BLOCKQUOTE",{class:!0});var o=f(e);n=g(o,r),o.forEach(d),this.h()},h:function(){p(e,"class","svelte-use3p6")},m:function(t,r){m(t,e,r),y(e,n)},p:function(t,e){1&e&&r!==(r=t[3].content.text+"")&&E(n,r)},d:function(t){t&&d(e)}}}function z(t){var e,n,r,o,a,c,s,i,l,T,L,I,x,R,D,S=t[3]["wm-property"]+"",A=t[3].author.name+"",j=H(t[3].published||t[3]["wm-received"])+"",O="mention-of"===t[3]["wm-property"]&&q(t);return{c:function(){e=u("li"),n=u("a"),r=v(S),a=w(),c=u("a"),s=u("img"),T=v(A),I=v("\n          at "),R=w(),O&&O.c(),D=w(),this.h()},l:function(t){e=h(t,"LI",{});var o=f(e);n=h(o,"A",{href:!0});var i=f(n);r=g(i,S),i.forEach(d),a=b(o),c=h(o,"A",{href:!0});var l=f(c);s=h(l,"IMG",{src:!0,alt:!0,class:!0}),T=g(l,A),l.forEach(d),I=g(o,"\n          at "),R=b(o),O&&O.l(o),D=b(o),o.forEach(d),this.h()},h:function(){p(n,"href",o=t[3].url),s.src!==(i=t[3].author.photo)&&p(s,"src",i),p(s,"alt",l=t[3].author.name),p(s,"class","svelte-use3p6"),p(c,"href",L=t[3].author.url),x=new M(R)},m:function(t,o){m(t,e,o),y(e,n),y(n,r),y(e,a),y(e,c),y(c,s),y(c,T),y(e,I),x.m(j,e),y(e,R),O&&O.m(e,null),y(e,D)},p:function(t,a){1&a&&S!==(S=t[3]["wm-property"]+"")&&E(r,S),1&a&&o!==(o=t[3].url)&&p(n,"href",o),1&a&&s.src!==(i=t[3].author.photo)&&p(s,"src",i),1&a&&l!==(l=t[3].author.name)&&p(s,"alt",l),1&a&&A!==(A=t[3].author.name+"")&&E(T,A),1&a&&L!==(L=t[3].author.url)&&p(c,"href",L),1&a&&j!==(j=H(t[3].published||t[3]["wm-received"])+"")&&x.p(j),"mention-of"===t[3]["wm-property"]?O?O.p(t,a):((O=q(t)).c(),O.m(e,D)):O&&(O.d(1),O=null)},d:function(t){t&&d(e),O&&O.d()}}}function B(t){var e,n,r,o,a,c,s,l,R,M,S,H,A,j,O,$,q,z,B,G,_,K,Q,X,F,J,W,Y,Z,tt,et,nt,rt,ot=t[1].title+"",at=t[1].html+"";document.title=e=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+i.title;for(var ct=t[1].date&&C(t),st=t[1].tags||[],it=[],lt=0;lt<st.length;lt+=1)it[lt]=U(k(t,st,lt));var ut,ht=t[1].from&&V(),ft={c:function(){ut=u("x-script"),this.h()},l:function(t){ut=h(t,"X-SCRIPT",{"data-ad-client":!0,async:!0,src:!0}),f(ut).forEach(d),this.h()},h:function(){D(ut,"data-ad-client",i.googleAdSenseClientID),D(ut,"async",""),"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"!==ut.src&&D(ut,"src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")},m:function(t,e){m(t,ut,e)},p:I,d:function(t){t&&d(ut)}};function dt(t,e){return t[0]?P:N}var pt=dt(t),mt=pt(t);return{c:function(){n=u("meta"),r=u("meta"),a=u("meta"),s=u("meta"),l=u("meta"),M=w(),S=u("header"),H=u("div"),j=w(),O=u("h1"),$=v(ot),q=w(),ct&&ct.c(),z=w(),B=u("div");for(var t=0;t<it.length;t+=1)it[t].c();G=w(),_=u("p"),K=u("a"),Q=v("更新履歴"),X=w(),ht&&ht.c(),F=w(),J=u("div"),W=w(),ft&&ft.c(),Y=w(),Z=u("section"),tt=u("h1"),et=v("Recent public mentions on Twitter"),nt=w(),rt=u("ol"),mt.c(),this.h()},l:function(t){var e=T('[data-svelte="svelte-14mnzgr"]',document.head);n=h(e,"META",{property:!0,content:!0}),r=h(e,"META",{property:!0,content:!0}),a=h(e,"META",{property:!0,content:!0}),s=h(e,"META",{property:!0,content:!0}),l=h(e,"META",{property:!0,content:!0}),e.forEach(d),M=b(t),S=h(t,"HEADER",{class:!0});var o=f(S);H=h(o,"DIV",{class:!0,style:!0}),f(H).forEach(d),j=b(o),O=h(o,"H1",{class:!0});var c=f(O);$=g(c,ot),c.forEach(d),q=b(o),ct&&ct.l(o),z=b(o),B=h(o,"DIV",{class:!0});for(var i=f(B),u=0;u<it.length;u+=1)it[u].l(i);i.forEach(d),G=b(o),_=h(o,"P",{class:!0});var p=f(_);K=h(p,"A",{href:!0});var m=f(K);Q=g(m,"更新履歴"),m.forEach(d),p.forEach(d),o.forEach(d),X=b(t),ht&&ht.l(t),F=b(t),J=h(t,"DIV",{class:!0}),f(J).forEach(d),W=b(t),ft&&ft.l(t),Y=b(t),Z=h(t,"SECTION",{class:!0});var v=f(Z);tt=h(v,"H1",{class:!0});var y=f(tt);et=g(y,"Recent public mentions on Twitter"),y.forEach(d),nt=b(v),rt=h(v,"OL",{});var E=f(rt);mt.l(E),E.forEach(d),v.forEach(d),this.h()},h:function(){p(n,"property","og:type"),p(n,"content","article"),p(r,"property","og:title"),p(r,"content",o=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+i.title),p(a,"property","og:description"),p(a,"content",c=t[1].headline),p(s,"property","og:site_name"),p(s,"content",i.title),p(l,"property","og:image"),p(l,"content",R=t[1].header?/^\.{0,2}\//.test(t[1].header)?i.host+"/"+t[1].header:t[1].header:i.host+"/images/default.png"),p(H,"class","img-header svelte-use3p6"),p(H,"style",A=t[1].header?"background-image: url(".concat(t[1].header,")"):""),p(O,"class","svelte-use3p6"),p(B,"class","tags"),p(K,"href",t[2]),p(_,"class","history svelte-use3p6"),p(S,"class","svelte-use3p6"),p(J,"class","content svelte-use3p6"),p(tt,"class","svelte-use3p6"),p(Z,"class","mentions svelte-use3p6")},m:function(t,e){y(document.head,n),y(document.head,r),y(document.head,a),y(document.head,s),y(document.head,l),m(t,M,e),m(t,S,e),y(S,H),y(S,j),y(S,O),y(O,$),y(S,q),ct&&ct.m(S,null),y(S,z),y(S,B);for(var o=0;o<it.length;o+=1)it[o].m(B,null);y(S,G),y(S,_),y(_,K),y(K,Q),m(t,X,e),ht&&ht.m(t,e),m(t,F,e),m(t,J,e),J.innerHTML=at,m(t,W,e),ft&&ft.m(t,e),m(t,Y,e),m(t,Z,e),y(Z,tt),y(tt,et),y(Z,nt),y(Z,rt),mt.m(rt,null)},p:function(t,n){var s=L(n,1)[0];if(2&s&&e!==(e=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+i.title)&&(document.title=e),2&s&&o!==(o=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+i.title)&&p(r,"content",o),2&s&&c!==(c=t[1].headline)&&p(a,"content",c),2&s&&R!==(R=t[1].header?/^\.{0,2}\//.test(t[1].header)?i.host+"/"+t[1].header:t[1].header:i.host+"/images/default.png")&&p(l,"content",R),2&s&&A!==(A=t[1].header?"background-image: url(".concat(t[1].header,")"):"")&&p(H,"style",A),2&s&&ot!==(ot=t[1].title+"")&&E($,ot),t[1].date?ct?ct.p(t,s):((ct=C(t)).c(),ct.m(S,z)):ct&&(ct.d(1),ct=null),2&s){var u;for(st=t[1].tags||[],u=0;u<st.length;u+=1){var h=k(t,st,u);it[u]?it[u].p(h,s):(it[u]=U(h),it[u].c(),it[u].m(B,null))}for(;u<it.length;u+=1)it[u].d(1);it.length=st.length}4&s&&p(K,"href",t[2]),t[1].from?ht||((ht=V()).c(),ht.m(F.parentNode,F)):ht&&(ht.d(1),ht=null),2&s&&at!==(at=t[1].html+"")&&(J.innerHTML=at),ft.p(t,s),pt===(pt=dt(t))&&mt?mt.p(t,s):(mt.d(1),(mt=pt(t))&&(mt.c(),mt.m(rt,null)))},i:I,o:I,d:function(t){d(n),d(r),d(a),d(s),d(l),t&&d(M),t&&d(S),ct&&ct.d(),x(it,t),t&&d(X),ht&&ht.d(t),t&&d(F),t&&d(J),t&&d(W),ft&&ft.d(t),t&&d(Y),t&&d(Z),mt.d()}}}var G=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function c(t){try{i(r.next(t))}catch(t){a(t)}}function s(t){try{i(r.throw(t))}catch(t){a(t)}}function i(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}i((r=r.apply(t,e||[])).next())}))};function _(e){var n=e.params;return G(this,void 0,void 0,t.mark((function e(){var r,o;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetch("".concat(n.type,"/").concat(n.slug,".json"));case 2:return r=t.sent,t.next=5,r.json();case 5:if(o=t.sent,200!==r.status){t.next=10;break}return t.abrupt("return",{post:o,historyURL:"https://github.com/".concat(i.dataGitHubRepo,"/commits/master/").concat(n.type,"/").concat(n.slug,".md")});case 10:this.error(r.status,o.message);case 11:case"end":return t.stop()}}),e,this)})))}function K(t,e,n){var r=e.post,o=e.historyURL,a=e.mentions;return R((function(){fetch("https://webmention.io/api/mentions.jf2?target="+encodeURIComponent(i.host+location.pathname+(location.pathname.match(/\/$/)?"":"/"))).then((function(t){return t.json().then((function(t){n(0,a=t),a.children.sort((function(t,e){return(e.published||e["wm-received"]).localeCompare(t.published||t["wm-received"])}))}))})),A()})),t.$$set=function(t){"post"in t&&n(1,r=t.post),"historyURL"in t&&n(2,o=t.historyURL),"mentions"in t&&n(0,a=t.mentions)},[a,r,o]}var Q=function(t){e(r,s);var n=j(r);function r(t){var e;return o(this,r),e=n.call(this),a(c(e),t,K,B,l,{post:1,historyURL:2,mentions:0}),e}return r}();export default Q;export{_ as preload};
