import{r as t,_ as e,a as n,b as o,c as r,i as c,d as a,e as s,S as i,f as l,s as u,g as h,j as f,k as d,m,o as p,q as v,t as g,l as y,u as E,v as b,h as T,x as w,n as k,A as L,y as z,z as M,w as H,B as R,C as x,D as I,E as A,F as j}from"./client.26357dcb.js";import{_ as D,a as C,t as O,b as U}from"./utility.b44443e1.js";const V=()=>{class t extends HTMLElement{connectedCallback(){const t=document.createElement("script");Array.from(this.attributes).forEach((e=>t.setAttribute(e.name,e.value)));const e=document.createElement("iframe");e.style.border="0",e.style.width="100%",e.style.height="0",e.style.maxHeight="100vh",e.srcdoc='<body injected style="margin: 0">'+this.innerHTML+t.outerHTML,this.innerHTML="",this.appendChild(e),setTimeout((function t(){if(e.contentDocument?.body?.hasAttribute("injected")){const t=()=>{e.contentDocument?.body?.parentElement&&(e.style.height=`${e.contentDocument.body.parentElement.offsetHeight}px`)};new ResizeObserver(t).observe(e.contentDocument.body),t()}else setTimeout(t,250)}),1)}}customElements.get("x-script")||customElements.define("x-script",t)};function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(e){var a=n(this).constructor;r=Reflect.construct(c,arguments,a)}else r=c.apply(this,arguments);return o(this,r)}}var N=x.document;function S(t,e,n){var o=t.slice();return o[3]=e[n],o}function $(t,e,n){var o=t.slice();return o[6]=e[n],o}function q(t){var e,n,o=U(t[1].date)+"";return{c:function(){e=h("time"),this.h()},l:function(t){e=f(t,"TIME",{title:!0,class:!0}),d(e).forEach(m),this.h()},h:function(){p(e,"title",n=O(t[1].date)),p(e,"class","svelte-odkuvz")},m:function(t,n){v(t,e,n),e.innerHTML=o},p:function(t,r){2&r&&o!==(o=U(t[1].date)+"")&&(e.innerHTML=o),2&r&&n!==(n=O(t[1].date))&&p(e,"title",n)},d:function(t){t&&m(e)}}}function P(t){var e,n,o,r=t[6]+"";return{c:function(){e=h("div"),n=g("#"),o=g(r),this.h()},l:function(t){e=f(t,"DIV",{class:!0});var c=d(e);n=y(c,"#"),o=y(c,r),c.forEach(m),this.h()},h:function(){p(e,"class","tag svelte-odkuvz")},m:function(t,r){v(t,e,r),E(e,n),E(e,o)},p:function(t,e){2&e&&r!==(r=t[6]+"")&&b(o,r)},d:function(t){t&&m(e)}}}function _(t){var e,n;return{c:function(){e=h("div"),n=g("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l:function(t){e=f(t,"DIV",{class:!0});var o=d(e);n=y(o,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),o.forEach(m),this.h()},h:function(){p(e,"class","callout svelte-odkuvz")},m:function(t,o){v(t,e,o),E(e,n)},d:function(t){t&&m(e)}}}function G(t){var e;return{c:function(){e=g("Loading mentions...")},l:function(t){e=y(t,"Loading mentions...")},m:function(t,n){v(t,e,n)},p:M,d:function(t){t&&m(e)}}}function F(t){for(var e,n=t[0].children,o=[],r=0;r<n.length;r+=1)o[r]=X(S(t,n,r));var c=null;return n.length||(c=K()),{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();e=j(),c&&c.c()},l:function(t){for(var n=0;n<o.length;n+=1)o[n].l(t);e=j(),c&&c.l(t)},m:function(t,n){for(var r=0;r<o.length;r+=1)o[r].m(t,n);v(t,e,n),c&&c.m(t,n)},p:function(t,r){if(1&r){var a;for(n=t[0].children,a=0;a<n.length;a+=1){var s=S(t,n,a);o[a]?o[a].p(s,r):(o[a]=X(s),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length,n.length?c&&(c.d(1),c=null):c||((c=K()).c(),c.m(e.parentNode,e))}},d:function(t){H(o,t),t&&m(e),c&&c.d(t)}}}function K(t){var e;return{c:function(){e=g("Twitterで言及していただけると自動的にここに収集されます。")},l:function(t){e=y(t,"Twitterで言及していただけると自動的にここに収集されます。")},m:function(t,n){v(t,e,n)},d:function(t){t&&m(e)}}}function Q(t){var e,n,o=t[3].content.text+"";return{c:function(){e=h("blockquote"),n=g(o),this.h()},l:function(t){e=f(t,"BLOCKQUOTE",{class:!0});var r=d(e);n=y(r,o),r.forEach(m),this.h()},h:function(){p(e,"class","svelte-odkuvz")},m:function(t,o){v(t,e,o),E(e,n)},p:function(t,e){1&e&&o!==(o=t[3].content.text+"")&&b(n,o)},d:function(t){t&&m(e)}}}function X(t){var e,n,o,r,c,a,s,i,l,u,w,L,z,M,H,R,x=t[3]["wm-property"]+"",I=t[3].author.name+"",j=U(t[3].published||t[3]["wm-received"])+"",D="mention-of"===t[3]["wm-property"]&&Q(t);return{c:function(){e=h("li"),n=h("a"),o=g(x),c=T(),a=h("a"),s=h("img"),u=g(I),L=T(),z=h("time"),H=T(),D&&D.c(),R=T(),this.h()},l:function(t){e=f(t,"LI",{});var r=d(e);n=f(r,"A",{href:!0});var i=d(n);o=y(i,x),i.forEach(m),c=k(r),a=f(r,"A",{href:!0});var l=d(a);s=f(l,"IMG",{src:!0,alt:!0,class:!0}),u=y(l,I),l.forEach(m),L=k(r),z=f(r,"TIME",{title:!0,class:!0}),d(z).forEach(m),H=k(r),D&&D.l(r),R=k(r),r.forEach(m),this.h()},h:function(){p(n,"href",r=t[3].url),A(s.src,i=t[3].author.photo)||p(s,"src",i),p(s,"alt",l=t[3].author.name),p(s,"class","svelte-odkuvz"),p(a,"href",w=t[3].author.url),p(z,"title",M=O(t[3].published||t[3]["wm-received"])),p(z,"class","svelte-odkuvz")},m:function(t,r){v(t,e,r),E(e,n),E(n,o),E(e,c),E(e,a),E(a,s),E(a,u),E(e,L),E(e,z),z.innerHTML=j,E(e,H),D&&D.m(e,null),E(e,R)},p:function(t,c){1&c&&x!==(x=t[3]["wm-property"]+"")&&b(o,x),1&c&&r!==(r=t[3].url)&&p(n,"href",r),1&c&&!A(s.src,i=t[3].author.photo)&&p(s,"src",i),1&c&&l!==(l=t[3].author.name)&&p(s,"alt",l),1&c&&I!==(I=t[3].author.name+"")&&b(u,I),1&c&&w!==(w=t[3].author.url)&&p(a,"href",w),1&c&&j!==(j=U(t[3].published||t[3]["wm-received"])+"")&&(z.innerHTML=j),1&c&&M!==(M=O(t[3].published||t[3]["wm-received"]))&&p(z,"title",M),"mention-of"===t[3]["wm-property"]?D?D.p(t,c):((D=Q(t)).c(),D.m(e,R)):D&&(D.d(1),D=null)},d:function(t){t&&m(e),D&&D.d()}}}function J(t){var e,n,o,r,c,a,s,i,u,R,x,j,D,O,U,V,B,S,K,Q,X,J,W,Y,tt,et,nt,ot,rt,ct,at,st,it,lt,ut,ht,ft,dt,mt=t[1].title+"",pt=t[1].title+"",vt=t[1].html+"";N.title=e=t[1].title+" - "+C(t[1].date)+" | "+l.title;for(var gt=t[1].date&&q(t),yt=t[1].tags||[],Et=[],bt=0;bt<yt.length;bt+=1)Et[bt]=P($(t,yt,bt));var Tt,wt=t[1].from&&_(),kt={c:function(){Tt=h("x-script"),this.h()},l:function(t){Tt=f(t,"X-SCRIPT",{"data-ad-client":!0,async:!0,src:!0}),d(Tt).forEach(m),this.h()},h:function(){I(Tt,"data-ad-client",l.googleAdSenseClientID),I(Tt,"async",""),A(Tt.src,"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")||I(Tt,"src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")},m:function(t,e){v(t,Tt,e)},p:M,d:function(t){t&&m(Tt)}};function Lt(t,e){return t[0]?F:G}var zt=Lt(t),Mt=zt(t);return{c:function(){n=h("meta"),o=h("meta"),c=h("meta"),s=h("meta"),i=h("meta"),R=T(),x=h("header"),j=h("div"),O=T(),U=h("h1"),V=g(mt),B=T(),gt&&gt.c(),S=T(),K=h("div");for(var t=0;t<Et.length;t+=1)Et[t].c();Q=T(),X=h("p"),J=h("a"),W=g("更新履歴"),Y=T(),tt=h("h1"),et=g(pt),nt=T(),wt&&wt.c(),ot=T(),rt=h("div"),ct=T(),kt&&kt.c(),at=T(),st=h("section"),it=h("h1"),lt=g("Recent public mentions on Twitter"),ut=T(),ht=h("ol"),Mt.c(),this.h()},l:function(t){var e=w('[data-svelte="svelte-zqyuod"]',N.head);n=f(e,"META",{property:!0,content:!0}),o=f(e,"META",{property:!0,content:!0}),c=f(e,"META",{property:!0,content:!0}),s=f(e,"META",{property:!0,content:!0}),i=f(e,"META",{property:!0,content:!0}),e.forEach(m),R=k(t),x=f(t,"HEADER",{class:!0});var r=d(x);j=f(r,"DIV",{class:!0,style:!0}),d(j).forEach(m),O=k(r),U=f(r,"H1",{class:!0});var a=d(U);V=y(a,mt),a.forEach(m),B=k(r),gt&&gt.l(r),S=k(r),K=f(r,"DIV",{class:!0});for(var l=d(K),u=0;u<Et.length;u+=1)Et[u].l(l);l.forEach(m),Q=k(r),X=f(r,"P",{class:!0});var h=d(X);J=f(h,"A",{href:!0});var p=d(J);W=y(p,"更新履歴"),p.forEach(m),h.forEach(m),r.forEach(m),Y=k(t),tt=f(t,"H1",{class:!0});var v=d(tt);et=y(v,pt),v.forEach(m),nt=k(t),wt&&wt.l(t),ot=k(t),rt=f(t,"DIV",{class:!0}),d(rt).forEach(m),ct=k(t),kt&&kt.l(t),at=k(t),st=f(t,"SECTION",{class:!0});var g=d(st);it=f(g,"H1",{class:!0});var E=d(it);lt=y(E,"Recent public mentions on Twitter"),E.forEach(m),ut=k(g),ht=f(g,"OL",{class:!0});var b=d(ht);Mt.l(b),b.forEach(m),g.forEach(m),this.h()},h:function(){p(n,"property","og:type"),p(n,"content","article"),p(o,"property","og:title"),p(o,"content",r=t[1].title+" - "+C(t[1].date)+" | "+l.title),p(c,"property","og:description"),p(c,"content",a=t[1].headline),p(s,"property","og:site_name"),p(s,"content",l.title),p(i,"property","og:image"),p(i,"content",u=t[1].header?/^\.{0,2}\//.test(t[1].header)?l.host+"/"+t[1].header:t[1].header:l.host+"/images/default.png"),p(j,"class","img-header svelte-odkuvz"),p(j,"style",D=t[1].header?"background-image: url(".concat(t[1].header,")"):""),p(U,"class","svelte-odkuvz"),p(K,"class","tags"),p(J,"href",t[2]),p(X,"class","history svelte-odkuvz"),p(x,"class","svelte-odkuvz"),p(tt,"class","floating-header svelte-odkuvz"),p(rt,"class","content svelte-odkuvz"),p(it,"class","svelte-odkuvz"),ht.reversed=!0,p(ht,"class","svelte-odkuvz"),p(st,"class","mentions svelte-odkuvz")},m:function(t,e){E(N.head,n),E(N.head,o),E(N.head,c),E(N.head,s),E(N.head,i),v(t,R,e),v(t,x,e),E(x,j),E(x,O),E(x,U),E(U,V),E(x,B),gt&&gt.m(x,null),E(x,S),E(x,K);for(var r=0;r<Et.length;r+=1)Et[r].m(K,null);E(x,Q),E(x,X),E(X,J),E(J,W),v(t,Y,e),v(t,tt,e),E(tt,et),v(t,nt,e),wt&&wt.m(t,e),v(t,ot,e),v(t,rt,e),rt.innerHTML=vt,v(t,ct,e),kt&&kt.m(t,e),v(t,at,e),v(t,st,e),E(st,it),E(it,lt),E(st,ut),E(st,ht),Mt.m(ht,null),ft||(dt=L(Z.call(null,U)),ft=!0)},p:function(t,n){var s=z(n,1)[0];if(2&s&&e!==(e=t[1].title+" - "+C(t[1].date)+" | "+l.title)&&(N.title=e),2&s&&r!==(r=t[1].title+" - "+C(t[1].date)+" | "+l.title)&&p(o,"content",r),2&s&&a!==(a=t[1].headline)&&p(c,"content",a),2&s&&u!==(u=t[1].header?/^\.{0,2}\//.test(t[1].header)?l.host+"/"+t[1].header:t[1].header:l.host+"/images/default.png")&&p(i,"content",u),2&s&&D!==(D=t[1].header?"background-image: url(".concat(t[1].header,")"):"")&&p(j,"style",D),2&s&&mt!==(mt=t[1].title+"")&&b(V,mt),t[1].date?gt?gt.p(t,s):((gt=q(t)).c(),gt.m(x,S)):gt&&(gt.d(1),gt=null),2&s){var h;for(yt=t[1].tags||[],h=0;h<yt.length;h+=1){var f=$(t,yt,h);Et[h]?Et[h].p(f,s):(Et[h]=P(f),Et[h].c(),Et[h].m(K,null))}for(;h<Et.length;h+=1)Et[h].d(1);Et.length=yt.length}4&s&&p(J,"href",t[2]),2&s&&pt!==(pt=t[1].title+"")&&b(et,pt),t[1].from?wt||((wt=_()).c(),wt.m(ot.parentNode,ot)):wt&&(wt.d(1),wt=null),2&s&&vt!==(vt=t[1].html+"")&&(rt.innerHTML=vt),zt===(zt=Lt(t))&&Mt?Mt.p(t,s):(Mt.d(1),(Mt=zt(t))&&(Mt.c(),Mt.m(ht,null)))},i:M,o:M,d:function(t){m(n),m(o),m(c),m(s),m(i),t&&m(R),t&&m(x),gt&&gt.d(),H(Et,t),t&&m(Y),t&&m(tt),t&&m(nt),wt&&wt.d(t),t&&m(ot),t&&m(rt),t&&m(ct),kt&&kt.d(t),t&&m(at),t&&m(st),Mt.d(),ft=!1,dt()}}}function W(t){return Y.apply(this,arguments)}function Y(){return(Y=D(t.mark((function e(n){var o,r,c;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.params,t.next=3,this.fetch("/".concat(o.type,"/").concat(o.slug,".json"));case 3:return r=t.sent,t.next=6,r.json();case 6:if(c=t.sent,200!==r.status){t.next=11;break}return t.abrupt("return",{post:c,historyURL:"https://github.com/".concat(l.dataGitHubRepo,"/commits/master/").concat(o.type,"/").concat(o.slug,".md")});case 11:this.error(r.status,c.message);case 12:case"end":return t.stop()}}),e,this)})))).apply(this,arguments)}function Z(t){var e=new IntersectionObserver((function(t){var e=z(t,1)[0].isIntersecting;document.body.classList.toggle("scrolled-down",!e)}));return e.observe(t),{destroy:function(){e.disconnect(),document.body.classList.remove("scrolled-down")}}}function tt(t,e,n){var o=e.post,r=e.historyURL,c=e.mentions;return R((function(){fetch("https://webmention.io/api/mentions.jf2?target="+encodeURIComponent(l.host+location.pathname+(location.pathname.match(/\/$/)?"":"/"))).then((function(t){return t.json().then((function(t){n(0,c=t),c.children.sort((function(t,e){return(e.published||e["wm-received"]).localeCompare(t.published||t["wm-received"])}))}))})),V()})),t.$$set=function(t){"post"in t&&n(1,o=t.post),"historyURL"in t&&n(2,r=t.historyURL),"mentions"in t&&n(0,c=t.mentions)},[c,o,r]}var et=function(t){e(o,i);var n=B(o);function o(t){var e;return r(this,o),e=n.call(this),c(a(e),t,tt,J,u,{post:1,historyURL:2,mentions:0}),e}return s(o)}();export{et as default,W as preload};
