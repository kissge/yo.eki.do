import{r as t,_ as e,a as n,b as r,c as o,i as a,d as c,e as s,S as i,f as l,s as u,g as h,j as f,k as d,m,o as p,q as v,t as y,l as g,u as E,v as b,h as T,x as w,n as k,A as L,y as M,z as H,w as R,B as x,C as I,D as A,E as j,F as D}from"./client.8a1ee2e2.js";import{_ as C,a as O,t as U,b as V}from"./utility.b44443e1.js";const B=()=>{class t extends HTMLElement{connectedCallback(){const t=document.createElement("script");Array.from(this.attributes).forEach((e=>t.setAttribute(e.name,e.value)));const e=document.createElement("iframe");e.style.border="0",e.style.width="100%",e.style.height="0",e.style.maxHeight="100vh",e.srcdoc='<body injected style="margin: 0">'+this.innerHTML+t.outerHTML,this.innerHTML="",this.appendChild(e),setTimeout((function t(){if(e.contentDocument?.body?.hasAttribute("injected")){const t=()=>{e.contentDocument?.body?.parentElement&&(e.style.height=`${e.contentDocument.body.parentElement.offsetHeight}px`)};new ResizeObserver(t).observe(e.contentDocument.body),t()}else setTimeout(t,250)}),1)}}customElements.get("x-script")||customElements.define("x-script",t)};function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,a=n(t);if(e){var c=n(this).constructor;o=Reflect.construct(a,arguments,c)}else o=a.apply(this,arguments);return r(this,o)}}var S=I.document;function $(t,e,n){var r=t.slice();return r[3]=e[n],r}function q(t,e,n){var r=t.slice();return r[6]=e[n],r}function z(t){var e,n,r=V(t[1].date)+"";return{c:function(){e=h("time"),this.h()},l:function(t){e=f(t,"TIME",{title:!0,class:!0}),d(e).forEach(m),this.h()},h:function(){p(e,"title",n=U(t[1].date)),p(e,"class","svelte-1tkryui")},m:function(t,n){v(t,e,n),e.innerHTML=r},p:function(t,o){2&o&&r!==(r=V(t[1].date)+"")&&(e.innerHTML=r),2&o&&n!==(n=U(t[1].date))&&p(e,"title",n)},d:function(t){t&&m(e)}}}function P(t){var e,n,r,o=t[6]+"";return{c:function(){e=h("div"),n=y("#"),r=y(o),this.h()},l:function(t){e=f(t,"DIV",{class:!0});var a=d(e);n=g(a,"#"),r=g(a,o),a.forEach(m),this.h()},h:function(){p(e,"class","tag svelte-1tkryui")},m:function(t,o){v(t,e,o),E(e,n),E(e,r)},p:function(t,e){2&e&&o!==(o=t[6]+"")&&b(r,o)},d:function(t){t&&m(e)}}}function _(t){var e,n;return{c:function(){e=h("div"),n=y("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l:function(t){e=f(t,"DIV",{class:!0});var r=d(e);n=g(r,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),r.forEach(m),this.h()},h:function(){p(e,"class","callout svelte-1tkryui")},m:function(t,r){v(t,e,r),E(e,n)},d:function(t){t&&m(e)}}}function G(t){var e;return{c:function(){e=y("Loading mentions...")},l:function(t){e=g(t,"Loading mentions...")},m:function(t,n){v(t,e,n)},p:H,d:function(t){t&&m(e)}}}function F(t){for(var e,n=t[0].children,r=[],o=0;o<n.length;o+=1)r[o]=X($(t,n,o));var a=null;return n.length||(a=K()),{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=D(),a&&a.c()},l:function(t){for(var n=0;n<r.length;n+=1)r[n].l(t);e=D(),a&&a.l(t)},m:function(t,n){for(var o=0;o<r.length;o+=1)r[o].m(t,n);v(t,e,n),a&&a.m(t,n)},p:function(t,o){if(1&o){var c;for(n=t[0].children,c=0;c<n.length;c+=1){var s=$(t,n,c);r[c]?r[c].p(s,o):(r[c]=X(s),r[c].c(),r[c].m(e.parentNode,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length,n.length?a&&(a.d(1),a=null):a||((a=K()).c(),a.m(e.parentNode,e))}},d:function(t){R(r,t),t&&m(e),a&&a.d(t)}}}function K(t){var e;return{c:function(){e=y("Twitterで言及していただけると自動的にここに収集されます。")},l:function(t){e=g(t,"Twitterで言及していただけると自動的にここに収集されます。")},m:function(t,n){v(t,e,n)},d:function(t){t&&m(e)}}}function Q(t){var e,n,r=t[3].content.text+"";return{c:function(){e=h("blockquote"),n=y(r),this.h()},l:function(t){e=f(t,"BLOCKQUOTE",{class:!0});var o=d(e);n=g(o,r),o.forEach(m),this.h()},h:function(){p(e,"class","svelte-1tkryui")},m:function(t,r){v(t,e,r),E(e,n)},p:function(t,e){1&e&&r!==(r=t[3].content.text+"")&&b(n,r)},d:function(t){t&&m(e)}}}function X(t){var e,n,r,o,a,c,s,i,l,u,w,L,M,H,R,x,I=t[3]["wm-property"]+"",A=t[3].author.name+"",D=V(t[3].published||t[3]["wm-received"])+"",C="mention-of"===t[3]["wm-property"]&&Q(t);return{c:function(){e=h("li"),n=h("a"),r=y(I),a=T(),c=h("a"),s=h("img"),u=y(A),L=T(),M=h("time"),R=T(),C&&C.c(),x=T(),this.h()},l:function(t){e=f(t,"LI",{});var o=d(e);n=f(o,"A",{href:!0});var i=d(n);r=g(i,I),i.forEach(m),a=k(o),c=f(o,"A",{href:!0});var l=d(c);s=f(l,"IMG",{src:!0,alt:!0,class:!0}),u=g(l,A),l.forEach(m),L=k(o),M=f(o,"TIME",{title:!0,class:!0}),d(M).forEach(m),R=k(o),C&&C.l(o),x=k(o),o.forEach(m),this.h()},h:function(){p(n,"href",o=t[3].url),j(s.src,i=t[3].author.photo)||p(s,"src",i),p(s,"alt",l=t[3].author.name),p(s,"class","svelte-1tkryui"),p(c,"href",w=t[3].author.url),p(M,"title",H=U(t[3].published||t[3]["wm-received"])),p(M,"class","svelte-1tkryui")},m:function(t,o){v(t,e,o),E(e,n),E(n,r),E(e,a),E(e,c),E(c,s),E(c,u),E(e,L),E(e,M),M.innerHTML=D,E(e,R),C&&C.m(e,null),E(e,x)},p:function(t,a){1&a&&I!==(I=t[3]["wm-property"]+"")&&b(r,I),1&a&&o!==(o=t[3].url)&&p(n,"href",o),1&a&&!j(s.src,i=t[3].author.photo)&&p(s,"src",i),1&a&&l!==(l=t[3].author.name)&&p(s,"alt",l),1&a&&A!==(A=t[3].author.name+"")&&b(u,A),1&a&&w!==(w=t[3].author.url)&&p(c,"href",w),1&a&&D!==(D=V(t[3].published||t[3]["wm-received"])+"")&&(M.innerHTML=D),1&a&&H!==(H=U(t[3].published||t[3]["wm-received"]))&&p(M,"title",H),"mention-of"===t[3]["wm-property"]?C?C.p(t,a):((C=Q(t)).c(),C.m(e,x)):C&&(C.d(1),C=null)},d:function(t){t&&m(e),C&&C.d()}}}function J(t){var e,n,r,o,a,c,s,i,u,x,I,D,C,U,V,B,N,$,K,Q,X,J,W,Y,tt,et,nt,rt,ot,at,ct,st,it,lt,ut,ht,ft,dt,mt=t[1].title+"",pt=t[1].title+"",vt=t[1].html+"";S.title=e=t[1].title+" - "+O(t[1].date)+" | "+l.title;for(var yt=t[1].date&&z(t),gt=t[1].tags||[],Et=[],bt=0;bt<gt.length;bt+=1)Et[bt]=P(q(t,gt,bt));var Tt,wt=t[1].from&&_(),kt={c:function(){Tt=h("x-script"),this.h()},l:function(t){Tt=f(t,"X-SCRIPT",{"data-ad-client":!0,async:!0,src:!0}),d(Tt).forEach(m),this.h()},h:function(){A(Tt,"data-ad-client",l.googleAdSenseClientID),A(Tt,"async",""),j(Tt.src,"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")||A(Tt,"src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")},m:function(t,e){v(t,Tt,e)},p:H,d:function(t){t&&m(Tt)}};function Lt(t,e){return t[0]?F:G}var Mt=Lt(t),Ht=Mt(t);return{c:function(){n=h("meta"),r=h("meta"),a=h("meta"),s=h("meta"),i=h("meta"),x=T(),I=h("header"),D=h("div"),U=T(),V=h("h1"),B=y(mt),N=T(),yt&&yt.c(),$=T(),K=h("div");for(var t=0;t<Et.length;t+=1)Et[t].c();Q=T(),X=h("p"),J=h("a"),W=y("更新履歴"),Y=T(),tt=h("h1"),et=y(pt),nt=T(),wt&&wt.c(),rt=T(),ot=h("div"),at=T(),kt&&kt.c(),ct=T(),st=h("section"),it=h("h1"),lt=y("Recent public mentions on Twitter"),ut=T(),ht=h("ol"),Ht.c(),this.h()},l:function(t){var e=w('[data-svelte="svelte-zqyuod"]',S.head);n=f(e,"META",{property:!0,content:!0}),r=f(e,"META",{property:!0,content:!0}),a=f(e,"META",{property:!0,content:!0}),s=f(e,"META",{property:!0,content:!0}),i=f(e,"META",{property:!0,content:!0}),e.forEach(m),x=k(t),I=f(t,"HEADER",{class:!0});var o=d(I);D=f(o,"DIV",{class:!0,style:!0}),d(D).forEach(m),U=k(o),V=f(o,"H1",{class:!0});var c=d(V);B=g(c,mt),c.forEach(m),N=k(o),yt&&yt.l(o),$=k(o),K=f(o,"DIV",{class:!0});for(var l=d(K),u=0;u<Et.length;u+=1)Et[u].l(l);l.forEach(m),Q=k(o),X=f(o,"P",{class:!0});var h=d(X);J=f(h,"A",{href:!0});var p=d(J);W=g(p,"更新履歴"),p.forEach(m),h.forEach(m),o.forEach(m),Y=k(t),tt=f(t,"H1",{class:!0});var v=d(tt);et=g(v,pt),v.forEach(m),nt=k(t),wt&&wt.l(t),rt=k(t),ot=f(t,"DIV",{class:!0}),d(ot).forEach(m),at=k(t),kt&&kt.l(t),ct=k(t),st=f(t,"SECTION",{class:!0});var y=d(st);it=f(y,"H1",{class:!0});var E=d(it);lt=g(E,"Recent public mentions on Twitter"),E.forEach(m),ut=k(y),ht=f(y,"OL",{class:!0});var b=d(ht);Ht.l(b),b.forEach(m),y.forEach(m),this.h()},h:function(){p(n,"property","og:type"),p(n,"content","article"),p(r,"property","og:title"),p(r,"content",o=t[1].title+" - "+O(t[1].date)+" | "+l.title),p(a,"property","og:description"),p(a,"content",c=t[1].headline),p(s,"property","og:site_name"),p(s,"content",l.title),p(i,"property","og:image"),p(i,"content",u=t[1].header?/^\.{0,2}\//.test(t[1].header)?l.host+"/"+t[1].header:t[1].header:l.host+"/images/default.png"),p(D,"class","img-header svelte-1tkryui"),p(D,"style",C=t[1].header?"background-image: url(".concat(t[1].header,")"):""),p(V,"class","svelte-1tkryui"),p(K,"class","tags"),p(J,"href",t[2]),p(X,"class","history svelte-1tkryui"),p(I,"class","svelte-1tkryui"),p(tt,"class","floating-header svelte-1tkryui"),p(ot,"class","content svelte-1tkryui"),p(it,"class","svelte-1tkryui"),ht.reversed=!0,p(ht,"class","svelte-1tkryui"),p(st,"class","mentions svelte-1tkryui")},m:function(t,e){E(S.head,n),E(S.head,r),E(S.head,a),E(S.head,s),E(S.head,i),v(t,x,e),v(t,I,e),E(I,D),E(I,U),E(I,V),E(V,B),E(I,N),yt&&yt.m(I,null),E(I,$),E(I,K);for(var o=0;o<Et.length;o+=1)Et[o].m(K,null);E(I,Q),E(I,X),E(X,J),E(J,W),v(t,Y,e),v(t,tt,e),E(tt,et),v(t,nt,e),wt&&wt.m(t,e),v(t,rt,e),v(t,ot,e),ot.innerHTML=vt,v(t,at,e),kt&&kt.m(t,e),v(t,ct,e),v(t,st,e),E(st,it),E(it,lt),E(st,ut),E(st,ht),Ht.m(ht,null),ft||(dt=L(Z.call(null,V)),ft=!0)},p:function(t,n){var s=M(n,1)[0];if(2&s&&e!==(e=t[1].title+" - "+O(t[1].date)+" | "+l.title)&&(S.title=e),2&s&&o!==(o=t[1].title+" - "+O(t[1].date)+" | "+l.title)&&p(r,"content",o),2&s&&c!==(c=t[1].headline)&&p(a,"content",c),2&s&&u!==(u=t[1].header?/^\.{0,2}\//.test(t[1].header)?l.host+"/"+t[1].header:t[1].header:l.host+"/images/default.png")&&p(i,"content",u),2&s&&C!==(C=t[1].header?"background-image: url(".concat(t[1].header,")"):"")&&p(D,"style",C),2&s&&mt!==(mt=t[1].title+"")&&b(B,mt),t[1].date?yt?yt.p(t,s):((yt=z(t)).c(),yt.m(I,$)):yt&&(yt.d(1),yt=null),2&s){var h;for(gt=t[1].tags||[],h=0;h<gt.length;h+=1){var f=q(t,gt,h);Et[h]?Et[h].p(f,s):(Et[h]=P(f),Et[h].c(),Et[h].m(K,null))}for(;h<Et.length;h+=1)Et[h].d(1);Et.length=gt.length}4&s&&p(J,"href",t[2]),2&s&&pt!==(pt=t[1].title+"")&&b(et,pt),t[1].from?wt||((wt=_()).c(),wt.m(rt.parentNode,rt)):wt&&(wt.d(1),wt=null),2&s&&vt!==(vt=t[1].html+"")&&(ot.innerHTML=vt),Mt===(Mt=Lt(t))&&Ht?Ht.p(t,s):(Ht.d(1),(Ht=Mt(t))&&(Ht.c(),Ht.m(ht,null)))},i:H,o:H,d:function(t){m(n),m(r),m(a),m(s),m(i),t&&m(x),t&&m(I),yt&&yt.d(),R(Et,t),t&&m(Y),t&&m(tt),t&&m(nt),wt&&wt.d(t),t&&m(rt),t&&m(ot),t&&m(at),kt&&kt.d(t),t&&m(ct),t&&m(st),Ht.d(),ft=!1,dt()}}}function W(t){return Y.apply(this,arguments)}function Y(){return(Y=C(t.mark((function e(n){var r,o,a;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.params,t.next=3,this.fetch("/".concat(r.type,"/").concat(r.slug,".json"));case 3:return o=t.sent,t.next=6,o.json();case 6:if(a=t.sent,200!==o.status){t.next=11;break}return t.abrupt("return",{post:a,historyURL:"https://github.com/".concat(l.dataGitHubRepo,"/commits/master/").concat(r.type,"/").concat(r.slug,".md")});case 11:this.error(o.status,a.message);case 12:case"end":return t.stop()}}),e,this)})))).apply(this,arguments)}function Z(t){var e=new IntersectionObserver((function(t){var e=M(t,1)[0].isIntersecting;document.body.classList.toggle("scrolled-down",!e)}));return e.observe(t),{destroy:function(){e.disconnect(),document.body.classList.remove("scrolled-down")}}}function tt(t,e,n){var r=e.post,o=e.historyURL,a=e.mentions;return x((function(){fetch("https://webmention.io/api/mentions.jf2?target="+encodeURIComponent(l.host+location.pathname+(location.pathname.match(/\/$/)?"":"/"))).then((function(t){return t.json().then((function(t){n(0,a=t),a.children.sort((function(t,e){return(e.published||e["wm-received"]).localeCompare(t.published||t["wm-received"])}))}))})),B()})),t.$$set=function(t){"post"in t&&n(1,r=t.post),"historyURL"in t&&n(2,o=t.historyURL),"mentions"in t&&n(0,a=t.mentions)},[a,r,o]}var et=function(t){e(r,i);var n=N(r);function r(t){var e;return o(this,r),e=n.call(this),a(c(e),t,tt,J,u,{post:1,historyURL:2,mentions:0}),e}return s(r)}();export{et as default,W as preload};
