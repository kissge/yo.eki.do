import{r as t,_ as e,a as n,b as r,c as o,i as c,d as a,S as s,e as i,s as l,f as h,h as u,j as f,l as d,n as m,p,t as v,k as y,q as g,u as E,g as b,w as T,m as w,z as L,x as M,y as H,v as R,A as x,B as I,C as A,D}from"./client.7fb6b623.js";import{_ as j,a as C,t as k,b as U}from"./utility.b44443e1.js";const O=()=>{class t extends HTMLElement{connectedCallback(){const t=document.createElement("script");Array.from(this.attributes).forEach((e=>t.setAttribute(e.name,e.value)));const e=document.createElement("iframe");e.style.border="0",e.style.width="100%",e.style.height="0",e.style.maxHeight="100vh",e.srcdoc='<body injected style="margin: 0">'+this.innerHTML+t.outerHTML,this.innerHTML="",this.appendChild(e),setTimeout((function t(){if(e.contentDocument?.body?.hasAttribute("injected")){const t=()=>{e.contentDocument?.body?.parentElement&&(e.style.height=`${e.contentDocument.body.parentElement.offsetHeight}px`)};new ResizeObserver(t).observe(e.contentDocument.body),t()}else setTimeout(t,250)}),1)}}customElements.get("x-script")||customElements.define("x-script",t)};function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,c=n(t);if(e){var a=n(this).constructor;o=Reflect.construct(c,arguments,a)}else o=c.apply(this,arguments);return r(this,o)}}var V=I.document;function N(t,e,n){var r=t.slice();return r[3]=e[n],r}function $(t,e,n){var r=t.slice();return r[6]=e[n],r}function q(t){var e,n,r=U(t[1].date)+"";return{c:function(){e=h("time"),this.h()},l:function(t){e=u(t,"TIME",{title:!0,class:!0}),f(e).forEach(d),this.h()},h:function(){m(e,"title",n=k(t[1].date)),m(e,"class","svelte-11hfy1r")},m:function(t,n){p(t,e,n),e.innerHTML=r},p:function(t,o){2&o&&r!==(r=U(t[1].date)+"")&&(e.innerHTML=r),2&o&&n!==(n=k(t[1].date))&&m(e,"title",n)},d:function(t){t&&d(e)}}}function z(t){var e,n,r,o=t[6]+"";return{c:function(){e=h("div"),n=v("#"),r=v(o),this.h()},l:function(t){e=u(t,"DIV",{class:!0});var c=f(e);n=y(c,"#"),r=y(c,o),c.forEach(d),this.h()},h:function(){m(e,"class","tag svelte-11hfy1r")},m:function(t,o){p(t,e,o),g(e,n),g(e,r)},p:function(t,e){2&e&&o!==(o=t[6]+"")&&E(r,o)},d:function(t){t&&d(e)}}}function P(t){var e,n;return{c:function(){e=h("div"),n=v("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l:function(t){e=u(t,"DIV",{class:!0});var r=f(e);n=y(r,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),r.forEach(d),this.h()},h:function(){m(e,"class","callout svelte-11hfy1r")},m:function(t,r){p(t,e,r),g(e,n)},d:function(t){t&&d(e)}}}function _(t){var e;return{c:function(){e=v("Loading mentions...")},l:function(t){e=y(t,"Loading mentions...")},m:function(t,n){p(t,e,n)},p:H,d:function(t){t&&d(e)}}}function B(t){for(var e,n=t[0].children,r=[],o=0;o<n.length;o+=1)r[o]=Q(N(t,n,o));var c=null;return n.length||(c=G()),{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=D(),c&&c.c()},l:function(t){for(var n=0;n<r.length;n+=1)r[n].l(t);e=D(),c&&c.l(t)},m:function(t,n){for(var o=0;o<r.length;o+=1)r[o].m(t,n);p(t,e,n),c&&c.m(t,n)},p:function(t,o){if(1&o){var a;for(n=t[0].children,a=0;a<n.length;a+=1){var s=N(t,n,a);r[a]?r[a].p(s,o):(r[a]=Q(s),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length,n.length?c&&(c.d(1),c=null):c||((c=G()).c(),c.m(e.parentNode,e))}},d:function(t){R(r,t),t&&d(e),c&&c.d(t)}}}function G(t){var e;return{c:function(){e=v("Twitterで言及していただけると自動的にここに収集されます。")},l:function(t){e=y(t,"Twitterで言及していただけると自動的にここに収集されます。")},m:function(t,n){p(t,e,n)},d:function(t){t&&d(e)}}}function K(t){var e,n,r=t[3].content.text+"";return{c:function(){e=h("blockquote"),n=v(r),this.h()},l:function(t){e=u(t,"BLOCKQUOTE",{class:!0});var o=f(e);n=y(o,r),o.forEach(d),this.h()},h:function(){m(e,"class","svelte-11hfy1r")},m:function(t,r){p(t,e,r),g(e,n)},p:function(t,e){1&e&&r!==(r=t[3].content.text+"")&&E(n,r)},d:function(t){t&&d(e)}}}function Q(t){var e,n,r,o,c,a,s,i,l,T,L,M,H,R,x,I,A=t[3]["wm-property"]+"",D=t[3].author.name+"",j=U(t[3].published||t[3]["wm-received"])+"",C="mention-of"===t[3]["wm-property"]&&K(t);return{c:function(){e=h("li"),n=h("a"),r=v(A),c=b(),a=h("a"),s=h("img"),T=v(D),M=b(),H=h("time"),x=b(),C&&C.c(),I=b(),this.h()},l:function(t){e=u(t,"LI",{});var o=f(e);n=u(o,"A",{href:!0});var i=f(n);r=y(i,A),i.forEach(d),c=w(o),a=u(o,"A",{href:!0});var l=f(a);s=u(l,"IMG",{src:!0,alt:!0,class:!0}),T=y(l,D),l.forEach(d),M=w(o),H=u(o,"TIME",{title:!0,class:!0}),f(H).forEach(d),x=w(o),C&&C.l(o),I=w(o),o.forEach(d),this.h()},h:function(){m(n,"href",o=t[3].url),s.src!==(i=t[3].author.photo)&&m(s,"src",i),m(s,"alt",l=t[3].author.name),m(s,"class","svelte-11hfy1r"),m(a,"href",L=t[3].author.url),m(H,"title",R=k(t[3].published||t[3]["wm-received"])),m(H,"class","svelte-11hfy1r")},m:function(t,o){p(t,e,o),g(e,n),g(n,r),g(e,c),g(e,a),g(a,s),g(a,T),g(e,M),g(e,H),H.innerHTML=j,g(e,x),C&&C.m(e,null),g(e,I)},p:function(t,c){1&c&&A!==(A=t[3]["wm-property"]+"")&&E(r,A),1&c&&o!==(o=t[3].url)&&m(n,"href",o),1&c&&s.src!==(i=t[3].author.photo)&&m(s,"src",i),1&c&&l!==(l=t[3].author.name)&&m(s,"alt",l),1&c&&D!==(D=t[3].author.name+"")&&E(T,D),1&c&&L!==(L=t[3].author.url)&&m(a,"href",L),1&c&&j!==(j=U(t[3].published||t[3]["wm-received"])+"")&&(H.innerHTML=j),1&c&&R!==(R=k(t[3].published||t[3]["wm-received"]))&&m(H,"title",R),"mention-of"===t[3]["wm-property"]?C?C.p(t,c):((C=K(t)).c(),C.m(e,I)):C&&(C.d(1),C=null)},d:function(t){t&&d(e),C&&C.d()}}}function X(t){var e,n,r,o,c,a,s,l,x,I,D,j,k,U,O,S,N,G,K,Q,X,F,J,Y,Z,tt,et,nt,rt,ot,ct,at,st,it,lt,ht,ut,ft,dt=t[1].title+"",mt=t[1].title+"",pt=t[1].html+"";V.title=e=t[1].title+" - "+C(t[1].date)+" | "+i.title;for(var vt=t[1].date&&q(t),yt=t[1].tags||[],gt=[],Et=0;Et<yt.length;Et+=1)gt[Et]=z($(t,yt,Et));var bt,Tt=t[1].from&&P(),wt={c:function(){bt=h("x-script"),this.h()},l:function(t){bt=u(t,"X-SCRIPT",{"data-ad-client":!0,async:!0,src:!0}),f(bt).forEach(d),this.h()},h:function(){A(bt,"data-ad-client",i.googleAdSenseClientID),A(bt,"async",""),"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"!==bt.src&&A(bt,"src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")},m:function(t,e){p(t,bt,e)},p:H,d:function(t){t&&d(bt)}};function Lt(t,e){return t[0]?B:_}var Mt=Lt(t),Ht=Mt(t);return{c:function(){n=h("meta"),r=h("meta"),c=h("meta"),s=h("meta"),l=h("meta"),I=b(),D=h("header"),j=h("div"),U=b(),O=h("h1"),S=v(dt),N=b(),vt&&vt.c(),G=b(),K=h("div");for(var t=0;t<gt.length;t+=1)gt[t].c();Q=b(),X=h("p"),F=h("a"),J=v("更新履歴"),Y=b(),Z=h("h1"),tt=v(mt),et=b(),Tt&&Tt.c(),nt=b(),rt=h("div"),ot=b(),wt&&wt.c(),ct=b(),at=h("section"),st=h("h1"),it=v("Recent public mentions on Twitter"),lt=b(),ht=h("ol"),Ht.c(),this.h()},l:function(t){var e=T('[data-svelte="svelte-zqyuod"]',V.head);n=u(e,"META",{property:!0,content:!0}),r=u(e,"META",{property:!0,content:!0}),c=u(e,"META",{property:!0,content:!0}),s=u(e,"META",{property:!0,content:!0}),l=u(e,"META",{property:!0,content:!0}),e.forEach(d),I=w(t),D=u(t,"HEADER",{class:!0});var o=f(D);j=u(o,"DIV",{class:!0,style:!0}),f(j).forEach(d),U=w(o),O=u(o,"H1",{class:!0});var a=f(O);S=y(a,dt),a.forEach(d),N=w(o),vt&&vt.l(o),G=w(o),K=u(o,"DIV",{class:!0});for(var i=f(K),h=0;h<gt.length;h+=1)gt[h].l(i);i.forEach(d),Q=w(o),X=u(o,"P",{class:!0});var m=f(X);F=u(m,"A",{href:!0});var p=f(F);J=y(p,"更新履歴"),p.forEach(d),m.forEach(d),o.forEach(d),Y=w(t),Z=u(t,"H1",{class:!0});var v=f(Z);tt=y(v,mt),v.forEach(d),et=w(t),Tt&&Tt.l(t),nt=w(t),rt=u(t,"DIV",{class:!0}),f(rt).forEach(d),ot=w(t),wt&&wt.l(t),ct=w(t),at=u(t,"SECTION",{class:!0});var g=f(at);st=u(g,"H1",{class:!0});var E=f(st);it=y(E,"Recent public mentions on Twitter"),E.forEach(d),lt=w(g),ht=u(g,"OL",{reversed:!0,class:!0});var b=f(ht);Ht.l(b),b.forEach(d),g.forEach(d),this.h()},h:function(){m(n,"property","og:type"),m(n,"content","article"),m(r,"property","og:title"),m(r,"content",o=t[1].title+" - "+C(t[1].date)+" | "+i.title),m(c,"property","og:description"),m(c,"content",a=t[1].headline),m(s,"property","og:site_name"),m(s,"content",i.title),m(l,"property","og:image"),m(l,"content",x=t[1].header?/^\.{0,2}\//.test(t[1].header)?i.host+"/"+t[1].header:t[1].header:i.host+"/images/default.png"),m(j,"class","img-header svelte-11hfy1r"),m(j,"style",k=t[1].header?"background-image: url(".concat(t[1].header,")"):""),m(O,"class","svelte-11hfy1r"),m(K,"class","tags"),m(F,"href",t[2]),m(X,"class","history svelte-11hfy1r"),m(D,"class","svelte-11hfy1r"),m(Z,"class","floating-header svelte-11hfy1r"),m(rt,"class","content svelte-11hfy1r"),m(st,"class","svelte-11hfy1r"),ht.reversed=!0,m(ht,"class","svelte-11hfy1r"),m(at,"class","mentions svelte-11hfy1r")},m:function(t,e){g(V.head,n),g(V.head,r),g(V.head,c),g(V.head,s),g(V.head,l),p(t,I,e),p(t,D,e),g(D,j),g(D,U),g(D,O),g(O,S),g(D,N),vt&&vt.m(D,null),g(D,G),g(D,K);for(var o=0;o<gt.length;o+=1)gt[o].m(K,null);g(D,Q),g(D,X),g(X,F),g(F,J),p(t,Y,e),p(t,Z,e),g(Z,tt),p(t,et,e),Tt&&Tt.m(t,e),p(t,nt,e),p(t,rt,e),rt.innerHTML=pt,p(t,ot,e),wt&&wt.m(t,e),p(t,ct,e),p(t,at,e),g(at,st),g(st,it),g(at,lt),g(at,ht),Ht.m(ht,null),ut||(ft=L(W.call(null,O)),ut=!0)},p:function(t,n){var s=M(n,1)[0];if(2&s&&e!==(e=t[1].title+" - "+C(t[1].date)+" | "+i.title)&&(V.title=e),2&s&&o!==(o=t[1].title+" - "+C(t[1].date)+" | "+i.title)&&m(r,"content",o),2&s&&a!==(a=t[1].headline)&&m(c,"content",a),2&s&&x!==(x=t[1].header?/^\.{0,2}\//.test(t[1].header)?i.host+"/"+t[1].header:t[1].header:i.host+"/images/default.png")&&m(l,"content",x),2&s&&k!==(k=t[1].header?"background-image: url(".concat(t[1].header,")"):"")&&m(j,"style",k),2&s&&dt!==(dt=t[1].title+"")&&E(S,dt),t[1].date?vt?vt.p(t,s):((vt=q(t)).c(),vt.m(D,G)):vt&&(vt.d(1),vt=null),2&s){var h;for(yt=t[1].tags||[],h=0;h<yt.length;h+=1){var u=$(t,yt,h);gt[h]?gt[h].p(u,s):(gt[h]=z(u),gt[h].c(),gt[h].m(K,null))}for(;h<gt.length;h+=1)gt[h].d(1);gt.length=yt.length}4&s&&m(F,"href",t[2]),2&s&&mt!==(mt=t[1].title+"")&&E(tt,mt),t[1].from?Tt||((Tt=P()).c(),Tt.m(nt.parentNode,nt)):Tt&&(Tt.d(1),Tt=null),2&s&&pt!==(pt=t[1].html+"")&&(rt.innerHTML=pt),wt.p(t,s),Mt===(Mt=Lt(t))&&Ht?Ht.p(t,s):(Ht.d(1),(Ht=Mt(t))&&(Ht.c(),Ht.m(ht,null)))},i:H,o:H,d:function(t){d(n),d(r),d(c),d(s),d(l),t&&d(I),t&&d(D),vt&&vt.d(),R(gt,t),t&&d(Y),t&&d(Z),t&&d(et),Tt&&Tt.d(t),t&&d(nt),t&&d(rt),t&&d(ot),wt&&wt.d(t),t&&d(ct),t&&d(at),Ht.d(),ut=!1,ft()}}}function F(t){return J.apply(this,arguments)}function J(){return(J=j(t.mark((function e(n){var r,o,c;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.params,t.next=3,this.fetch("/".concat(r.type,"/").concat(r.slug,".json"));case 3:return o=t.sent,t.next=6,o.json();case 6:if(c=t.sent,200!==o.status){t.next=11;break}return t.abrupt("return",{post:c,historyURL:"https://github.com/".concat(i.dataGitHubRepo,"/commits/master/").concat(r.type,"/").concat(r.slug,".md")});case 11:this.error(o.status,c.message);case 12:case"end":return t.stop()}}),e,this)})))).apply(this,arguments)}function W(t){var e=new IntersectionObserver((function(t){var e=M(t,1)[0].isIntersecting;document.body.classList.toggle("scrolled-down",!e)}));return e.observe(t),{destroy:function(){e.disconnect(),document.body.classList.remove("scrolled-down")}}}function Y(t,e,n){var r=e.post,o=e.historyURL,c=e.mentions;return x((function(){fetch("https://webmention.io/api/mentions.jf2?target="+encodeURIComponent(i.host+location.pathname+(location.pathname.match(/\/$/)?"":"/"))).then((function(t){return t.json().then((function(t){n(0,c=t),c.children.sort((function(t,e){return(e.published||e["wm-received"]).localeCompare(t.published||t["wm-received"])}))}))})),O()})),t.$$set=function(t){"post"in t&&n(1,r=t.post),"historyURL"in t&&n(2,o=t.historyURL),"mentions"in t&&n(0,c=t.mentions)},[c,r,o]}var Z=function(t){e(r,s);var n=S(r);function r(t){var e;return o(this,r),e=n.call(this),c(a(e),t,Y,X,l,{post:1,historyURL:2,mentions:0}),e}return r}();export default Z;export{F as preload};
