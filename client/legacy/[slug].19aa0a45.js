import{y as t,_ as n,a as e,b as r,c as o,i as a,d as c,S as i,e as s,s as l,f as u,h,j as f,l as d,n as m,p,t as v,k as g,q as y,r as b,g as E,v as w,m as T,w as L,x as I,u as x,z as R,A as D,H as M,B as S}from"./client.a43cae97.js";const H=t=>((t=new Date(t)).setTime(t.getTime()+324e5),t.toISOString().replace(/\..+/,"+09:00").replace(/(T|\+09:00)/g,'<span class="date-weak">$1</span>')),A=()=>{class t extends HTMLElement{connectedCallback(){const t=document.createElement("script");Array.from(this.attributes).forEach((n=>t.setAttribute(n.name,n.value)));const n=document.createElement("iframe");n.style.border="0",n.style.width="100%",n.style.height="0",n.srcdoc='<body style="margin: 0">'+this.innerHTML+t.outerHTML,this.innerHTML="",this.appendChild(n);for(let t=0;t<5e3;t+=100)setTimeout((()=>{var t;n.style.height=(null===(t=n.contentDocument.body)||void 0===t?void 0:t.clientHeight)+30+"px"}),t)}}customElements.define("x-script",t)};function j(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,a=e(t);if(n){var c=e(this).constructor;o=Reflect.construct(a,arguments,c)}else o=a.apply(this,arguments);return r(this,o)}}function O(t,n,e){var r=t.slice();return r[3]=n[e],r}function k(t,n,e){var r=t.slice();return r[6]=n[e],r}function C(t){var n,e=H(t[1].date)+"";return{c:function(){n=u("time"),this.h()},l:function(t){n=h(t,"TIME",{class:!0}),f(n).forEach(d),this.h()},h:function(){m(n,"class","svelte-bluf97")},m:function(t,r){p(t,n,r),n.innerHTML=e},p:function(t,r){2&r&&e!==(e=H(t[1].date)+"")&&(n.innerHTML=e)},d:function(t){t&&d(n)}}}function U(t){var n,e,r,o=t[6]+"";return{c:function(){n=u("div"),e=v("#"),r=v(o),this.h()},l:function(t){n=h(t,"DIV",{class:!0});var a=f(n);e=g(a,"#"),r=g(a,o),a.forEach(d),this.h()},h:function(){m(n,"class","tag svelte-bluf97")},m:function(t,o){p(t,n,o),y(n,e),y(n,r)},p:function(t,n){2&n&&o!==(o=t[6]+"")&&b(r,o)},d:function(t){t&&d(n)}}}function V(t){var n,e;return{c:function(){n=u("div"),e=v("この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),this.h()},l:function(t){n=h(t,"DIV",{class:!0});var r=f(n);e=g(r,"この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。"),r.forEach(d),this.h()},h:function(){m(n,"class","callout svelte-bluf97")},m:function(t,r){p(t,n,r),y(n,e)},d:function(t){t&&d(n)}}}function N(t){var n;return{c:function(){n=v("Loading mentions...")},l:function(t){n=g(t,"Loading mentions...")},m:function(t,e){p(t,n,e)},p:I,d:function(t){t&&d(n)}}}function P(t){for(var n,e=t[0].children,r=[],o=0;o<e.length;o+=1)r[o]=z(O(t,e,o));var a=null;return e.length||(a=$()),{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();n=S(),a&&a.c()},l:function(t){for(var e=0;e<r.length;e+=1)r[e].l(t);n=S(),a&&a.l(t)},m:function(t,e){for(var o=0;o<r.length;o+=1)r[o].m(t,e);p(t,n,e),a&&a.m(t,e)},p:function(t,o){if(1&o){var c;for(e=t[0].children,c=0;c<e.length;c+=1){var i=O(t,e,c);r[c]?r[c].p(i,o):(r[c]=z(i),r[c].c(),r[c].m(n.parentNode,n))}for(;c<r.length;c+=1)r[c].d(1);r.length=e.length,e.length?a&&(a.d(1),a=null):a||((a=$()).c(),a.m(n.parentNode,n))}},d:function(t){x(r,t),t&&d(n),a&&a.d(t)}}}function $(t){var n;return{c:function(){n=v("Twitterで言及していただけると自動的にここに収集されます。")},l:function(t){n=g(t,"Twitterで言及していただけると自動的にここに収集されます。")},m:function(t,e){p(t,n,e)},d:function(t){t&&d(n)}}}function q(t){var n,e,r=t[3].content.text+"";return{c:function(){n=u("blockquote"),e=v(r),this.h()},l:function(t){n=h(t,"BLOCKQUOTE",{class:!0});var o=f(n);e=g(o,r),o.forEach(d),this.h()},h:function(){m(n,"class","svelte-bluf97")},m:function(t,r){p(t,n,r),y(n,e)},p:function(t,n){1&n&&r!==(r=t[3].content.text+"")&&b(e,r)},d:function(t){t&&d(n)}}}function z(t){var n,e,r,o,a,c,i,s,l,w,L,I,x,R,D,S=t[3]["wm-property"]+"",A=t[3].author.name+"",j=H(t[3].published||t[3]["wm-received"])+"",O="mention-of"===t[3]["wm-property"]&&q(t);return{c:function(){n=u("li"),e=u("a"),r=v(S),a=E(),c=u("a"),i=u("img"),w=v(A),I=v("\n          at "),R=E(),O&&O.c(),D=E(),this.h()},l:function(t){n=h(t,"LI",{});var o=f(n);e=h(o,"A",{href:!0});var s=f(e);r=g(s,S),s.forEach(d),a=T(o),c=h(o,"A",{href:!0});var l=f(c);i=h(l,"IMG",{src:!0,alt:!0,class:!0}),w=g(l,A),l.forEach(d),I=g(o,"\n          at "),R=T(o),O&&O.l(o),D=T(o),o.forEach(d),this.h()},h:function(){m(e,"href",o=t[3].url),i.src!==(s=t[3].author.photo)&&m(i,"src",s),m(i,"alt",l=t[3].author.name),m(i,"class","svelte-bluf97"),m(c,"href",L=t[3].author.url),x=new M(R)},m:function(t,o){p(t,n,o),y(n,e),y(e,r),y(n,a),y(n,c),y(c,i),y(c,w),y(n,I),x.m(j,n),y(n,R),O&&O.m(n,null),y(n,D)},p:function(t,a){1&a&&S!==(S=t[3]["wm-property"]+"")&&b(r,S),1&a&&o!==(o=t[3].url)&&m(e,"href",o),1&a&&i.src!==(s=t[3].author.photo)&&m(i,"src",s),1&a&&l!==(l=t[3].author.name)&&m(i,"alt",l),1&a&&A!==(A=t[3].author.name+"")&&b(w,A),1&a&&L!==(L=t[3].author.url)&&m(c,"href",L),1&a&&j!==(j=H(t[3].published||t[3]["wm-received"])+"")&&x.p(j),"mention-of"===t[3]["wm-property"]?O?O.p(t,a):((O=q(t)).c(),O.m(n,D)):O&&(O.d(1),O=null)},d:function(t){t&&d(n),O&&O.d()}}}function B(t){var n,e,r,o,a,c,i,l,R,M,S,H,A,j,O,$,q,z,B,G,_,K,Q,X,F,J,W,Y,Z,tt,nt,et,rt,ot=t[1].title+"",at=t[1].html+"";document.title=n=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+s.title;for(var ct=t[1].date&&C(t),it=t[1].tags||[],st=[],lt=0;lt<it.length;lt+=1)st[lt]=U(k(t,it,lt));var ut,ht=t[1].from&&V(),ft={c:function(){ut=u("x-script"),this.h()},l:function(t){ut=h(t,"X-SCRIPT",{"data-ad-client":!0,async:!0,src:!0}),f(ut).forEach(d),this.h()},h:function(){D(ut,"data-ad-client",s.googleAdSenseClientID),D(ut,"async",""),"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"!==ut.src&&D(ut,"src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")},m:function(t,n){p(t,ut,n)},p:I,d:function(t){t&&d(ut)}};function dt(t,n){return t[0]?P:N}var mt=dt(t),pt=mt(t);return{c:function(){e=u("meta"),r=u("meta"),a=u("meta"),i=u("meta"),l=u("meta"),M=E(),S=u("header"),H=u("div"),j=E(),O=u("h1"),$=v(ot),q=E(),ct&&ct.c(),z=E(),B=u("div");for(var t=0;t<st.length;t+=1)st[t].c();G=E(),_=u("p"),K=u("a"),Q=v("更新履歴"),X=E(),ht&&ht.c(),F=E(),J=u("div"),W=E(),ft&&ft.c(),Y=E(),Z=u("section"),tt=u("h1"),nt=v("Recent public mentions on Twitter"),et=E(),rt=u("ol"),pt.c(),this.h()},l:function(t){var n=w('[data-svelte="svelte-14mnzgr"]',document.head);e=h(n,"META",{property:!0,content:!0}),r=h(n,"META",{property:!0,content:!0}),a=h(n,"META",{property:!0,content:!0}),i=h(n,"META",{property:!0,content:!0}),l=h(n,"META",{property:!0,content:!0}),n.forEach(d),M=T(t),S=h(t,"HEADER",{class:!0});var o=f(S);H=h(o,"DIV",{class:!0,style:!0}),f(H).forEach(d),j=T(o),O=h(o,"H1",{class:!0});var c=f(O);$=g(c,ot),c.forEach(d),q=T(o),ct&&ct.l(o),z=T(o),B=h(o,"DIV",{class:!0});for(var s=f(B),u=0;u<st.length;u+=1)st[u].l(s);s.forEach(d),G=T(o),_=h(o,"P",{class:!0});var m=f(_);K=h(m,"A",{href:!0});var p=f(K);Q=g(p,"更新履歴"),p.forEach(d),m.forEach(d),o.forEach(d),X=T(t),ht&&ht.l(t),F=T(t),J=h(t,"DIV",{class:!0}),f(J).forEach(d),W=T(t),ft&&ft.l(t),Y=T(t),Z=h(t,"SECTION",{class:!0});var v=f(Z);tt=h(v,"H1",{class:!0});var y=f(tt);nt=g(y,"Recent public mentions on Twitter"),y.forEach(d),et=T(v),rt=h(v,"OL",{});var b=f(rt);pt.l(b),b.forEach(d),v.forEach(d),this.h()},h:function(){m(e,"property","og:type"),m(e,"content","article"),m(r,"property","og:title"),m(r,"content",o=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+s.title),m(a,"property","og:description"),m(a,"content",c=t[1].headline),m(i,"property","og:site_name"),m(i,"content",s.title),m(l,"property","og:image"),m(l,"content",R=t[1].header?/^\.{0,2}\//.test(t[1].header)?s.host+"/"+t[1].header:t[1].header:s.host+"/images/default.png"),m(H,"class","img-header svelte-bluf97"),m(H,"style",A=t[1].header?"background-image: url(".concat(t[1].header,")"):""),m(O,"class","svelte-bluf97"),m(B,"class","tags"),m(K,"href",t[2]),m(_,"class","history svelte-bluf97"),m(S,"class","svelte-bluf97"),m(J,"class","content svelte-bluf97"),m(tt,"class","svelte-bluf97"),m(Z,"class","mentions svelte-bluf97")},m:function(t,n){y(document.head,e),y(document.head,r),y(document.head,a),y(document.head,i),y(document.head,l),p(t,M,n),p(t,S,n),y(S,H),y(S,j),y(S,O),y(O,$),y(S,q),ct&&ct.m(S,null),y(S,z),y(S,B);for(var o=0;o<st.length;o+=1)st[o].m(B,null);y(S,G),y(S,_),y(_,K),y(K,Q),p(t,X,n),ht&&ht.m(t,n),p(t,F,n),p(t,J,n),J.innerHTML=at,p(t,W,n),ft&&ft.m(t,n),p(t,Y,n),p(t,Z,n),y(Z,tt),y(tt,nt),y(Z,et),y(Z,rt),pt.m(rt,null)},p:function(t,e){var i=L(e,1)[0];if(2&i&&n!==(n=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+s.title)&&(document.title=n),2&i&&o!==(o=t[1].title+" - "+new Date(t[1].date).toISOString().slice(0,10)+" | "+s.title)&&m(r,"content",o),2&i&&c!==(c=t[1].headline)&&m(a,"content",c),2&i&&R!==(R=t[1].header?/^\.{0,2}\//.test(t[1].header)?s.host+"/"+t[1].header:t[1].header:s.host+"/images/default.png")&&m(l,"content",R),2&i&&A!==(A=t[1].header?"background-image: url(".concat(t[1].header,")"):"")&&m(H,"style",A),2&i&&ot!==(ot=t[1].title+"")&&b($,ot),t[1].date?ct?ct.p(t,i):((ct=C(t)).c(),ct.m(S,z)):ct&&(ct.d(1),ct=null),2&i){var u;for(it=t[1].tags||[],u=0;u<it.length;u+=1){var h=k(t,it,u);st[u]?st[u].p(h,i):(st[u]=U(h),st[u].c(),st[u].m(B,null))}for(;u<st.length;u+=1)st[u].d(1);st.length=it.length}4&i&&m(K,"href",t[2]),t[1].from?ht||((ht=V()).c(),ht.m(F.parentNode,F)):ht&&(ht.d(1),ht=null),2&i&&at!==(at=t[1].html+"")&&(J.innerHTML=at),ft.p(t,i),mt===(mt=dt(t))&&pt?pt.p(t,i):(pt.d(1),(pt=mt(t))&&(pt.c(),pt.m(rt,null)))},i:I,o:I,d:function(t){d(e),d(r),d(a),d(i),d(l),t&&d(M),t&&d(S),ct&&ct.d(),x(st,t),t&&d(X),ht&&ht.d(t),t&&d(F),t&&d(J),t&&d(W),ft&&ft.d(t),t&&d(Y),t&&d(Z),pt.d()}}}var G=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function c(t){try{s(r.next(t))}catch(t){a(t)}}function i(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,i)}s((r=r.apply(t,n||[])).next())}))};function _(n){var e=n.params;return G(this,void 0,void 0,t.mark((function n(){var r,o;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetch("".concat(e.type,"/").concat(e.slug,".json"));case 2:return r=t.sent,t.next=5,r.json();case 5:if(o=t.sent,200!==r.status){t.next=10;break}return t.abrupt("return",{post:o,historyURL:"https://github.com/".concat(s.dataGitHubRepo,"/commits/master/").concat(e.type,"/").concat(e.slug,".md")});case 10:this.error(r.status,o.message);case 11:case"end":return t.stop()}}),n,this)})))}function K(t,n,e){var r=n.post,o=n.historyURL,a=n.mentions;return R((function(){fetch("https://webmention.io/api/mentions.jf2?target="+encodeURIComponent(s.host+location.pathname+(location.pathname.match(/\/$/)?"":"/"))).then((function(t){return t.json().then((function(t){e(0,a=t),a.children.sort((function(t,n){return(n.published||n["wm-received"]).localeCompare(t.published||t["wm-received"])}))}))})),A()})),t.$$set=function(t){"post"in t&&e(1,r=t.post),"historyURL"in t&&e(2,o=t.historyURL),"mentions"in t&&e(0,a=t.mentions)},[a,r,o]}var Q=function(t){n(r,i);var e=j(r);function r(t){var n;return o(this,r),n=e.call(this),a(c(n),t,K,B,l,{post:1,historyURL:2,mentions:0}),n}return r}();export default Q;export{_ as preload};
