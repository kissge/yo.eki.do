{"from":"wordpress","title":"Python: リストを2個ずつ巡回する","date":"2016-11-18T02:07:05.000Z","slug":"iterate-by-two","html":"<p>Python: How to iterate through a list by two</p>\n<!--more-->\n<pre><code class=\"hljs language-python\">it = <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">10</span>)\n<span class=\"hljs-keyword\">for</span> a, b <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">zip</span>(it, it):\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&#x27;{} + {} = {}&#x27;</span>.<span class=\"hljs-built_in\">format</span>(a, b, a + b))\n</code></pre>\n<p>一瞬これでいけるかな？と思うも</p>\n<pre><code class=\"hljs\"><span class=\"hljs-symbol\">0 </span>+ <span class=\"hljs-number\">0</span> = <span class=\"hljs-number\">0</span>\n<span class=\"hljs-symbol\">1 </span>+ <span class=\"hljs-number\">1</span> = <span class=\"hljs-number\">2</span>\n<span class=\"hljs-symbol\">2 </span>+ <span class=\"hljs-number\">2</span> = <span class=\"hljs-number\">4</span>\n<span class=\"hljs-symbol\">3 </span>+ <span class=\"hljs-number\">3</span> = <span class=\"hljs-number\">6</span>\n<span class=\"hljs-symbol\">4 </span>+ <span class=\"hljs-number\">4</span> = <span class=\"hljs-number\">8</span>\n<span class=\"hljs-symbol\">5 </span>+ <span class=\"hljs-number\">5</span> = <span class=\"hljs-number\">10</span>\n<span class=\"hljs-symbol\">6 </span>+ <span class=\"hljs-number\">6</span> = <span class=\"hljs-number\">12</span>\n<span class=\"hljs-symbol\">7 </span>+ <span class=\"hljs-number\">7</span> = <span class=\"hljs-number\">14</span>\n<span class=\"hljs-symbol\">8 </span>+ <span class=\"hljs-number\">8</span> = <span class=\"hljs-number\">16</span>\n<span class=\"hljs-symbol\">9 </span>+ <span class=\"hljs-number\">9</span> = <span class=\"hljs-number\">18</span>\n</code></pre>\n<p>となるところ、ここに一行足して</p>\n<pre><code class=\"hljs language-python\">it = <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">10</span>)\nitit = <span class=\"hljs-built_in\">iter</span>(it)\n<span class=\"hljs-keyword\">for</span> a, b <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">zip</span>(itit, itit):\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&#x27;{} + {} = {}&#x27;</span>.<span class=\"hljs-built_in\">format</span>(a, b, a + b))\n</code></pre>\n<p>とすると</p>\n<pre><code class=\"hljs\"><span class=\"hljs-symbol\">0 </span>+ <span class=\"hljs-number\">1</span> = <span class=\"hljs-number\">1</span>\n<span class=\"hljs-symbol\">2 </span>+ <span class=\"hljs-number\">3</span> = <span class=\"hljs-number\">5</span>\n<span class=\"hljs-symbol\">4 </span>+ <span class=\"hljs-number\">5</span> = <span class=\"hljs-number\">9</span>\n<span class=\"hljs-symbol\">6 </span>+ <span class=\"hljs-number\">7</span> = <span class=\"hljs-number\">13</span>\n<span class=\"hljs-symbol\">8 </span>+ <span class=\"hljs-number\">9</span> = <span class=\"hljs-number\">17</span>\n</code></pre>\n<p>となる。\n<code>iter(it)</code> がポイント。\n<code>Iterator</code> にすると内部状態を保持する兼ね合いでこういうことが起きるという感じか。（雑です）\nPython 2の場合は <code>itertools.izip</code> とかを使う、たぶん。</p>\n","headline":"Python: How to iterate through a list by two <!--more--> ```python it = range(10) for a, b in zip("}