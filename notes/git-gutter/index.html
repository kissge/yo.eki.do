<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/images/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/github.min.css" />
    <meta http-equiv="content-security-policy" content=""><title>Emacs: git-gutter が便利過ぎる - 2014-07-24 | 葉月夜堂</title><link href="https://twitter.com/p_km" rel="me" data-svelte="svelte-10crdf0">
    <link rel="webmention" href="https://webmention.io/sveltekit-prerender/webmention" data-svelte="svelte-10crdf0">
    <link rel="pingback" href="https://webmention.io/sveltekit-prerender/xmlrpc" data-svelte="svelte-10crdf0"><meta property="og:type" content="article" data-svelte="svelte-6t30ru"><meta property="og:title" content="Emacs: git-gutter が便利過ぎる - 2014-07-24 | 葉月夜堂" data-svelte="svelte-6t30ru"><meta property="og:description" content="あまりに感動したのでつい．SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．たぶん git-gutter.el - Emacs JP とかを見れば分かる．▲左側の緑色の &quot;+&quot; のところね．今回自分が導入したのは git-gutter-fringe+.el という亜種で，Fringe Helper を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．git-gutter+-stage-hunks という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．つまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作って" data-svelte="svelte-6t30ru"><meta property="og:site_name" content="葉月夜堂" data-svelte="svelte-6t30ru"><meta property="og:image" content="http://sveltekit-prerender/images/favicon.svg" data-svelte="svelte-6t30ru">
	<link rel="stylesheet" href="/_app/immutable/assets/pages/__layout.svelte-211fd336.css">
	<link rel="stylesheet" href="/_app/immutable/assets/time.svelte_svelte_type_style_lang-61ea3f89.css">
	<link rel="stylesheet" href="/_app/immutable/assets/pages/_...entity_.svelte-1f397eed.css">
	<link rel="modulepreload" href="/_app/immutable/start-c45c172a.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/index-7416df8b.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/singletons-d1fb5791.js">
	<link rel="modulepreload" href="/_app/immutable/pages/__layout.svelte-2bb677a8.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/time.svelte_svelte_type_style_lang-37f163cc.js">
	<link rel="modulepreload" href="/_app/immutable/pages/_...entity_.svelte-513c3435.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/tags-0bf7833f.js">
  </head>
  <body>
    <div>




<nav><ul><li><a sveltekit:prefetch href="/">葉月夜堂</a>
      </li><li><a sveltekit:prefetch href="/about">about</a>
      </li></ul></nav>



<div class="nav-background svelte-nthksl isHeaderInView" style=""></div>

<main><article data-kind="note" class="svelte-nthksl"><header class="svelte-nthksl"><h1 class="svelte-nthksl">Emacs: <wbr>git-<wbr>gutter が<wbr>便利過ぎる</h1>

      

      <section class="meta svelte-nthksl"><p class="svelte-nthksl"><time title="8 年前" class="svelte-5ni4x2">Wed Jul 23 2014 19:15:10 GMT+0000 (Coordinated Universal Time)</time></p>

        <p class="svelte-nthksl"><a href="https://github.com/kissge/yo.eki.do/commits/master/notes/git-gutter.md">更新履歴</a></p></section>

      

      <section class="header-image svelte-nthksl" style=""></section></header>

    <section class="body svelte-nthksl"><!-- HTML_TAG_START --><p>あまりに感動したのでつい．</p>
<p>SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．
簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．
たぶん <a href="http://emacs-jp.github.io/packages/vcs/git-gutter.html">git-gutter.el - Emacs JP</a> とかを見れば分かる．</p>
<img src="/images/uploads/2014/07/git-gutter.png" alt="git-gutter" width="610" height="137" class="alignnone size-full wp-image-96" data-wp-pid="96" />
▲左側の緑色の "+" のところね．

<!--more-->

<p>今回自分が導入したのは <a href="https://github.com/nonsequitur/git-gutter-fringe-plus">git-gutter-fringe+.el</a> という亜種で，<a href="http://www.emacswiki.org/emacs/FringeHelper">Fringe Helper</a> を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．</p>
<p>もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．
<code>git-gutter+-stage-hunks</code> という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．
つまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作ってから別の箇所を変更するコミットを作りたいときに，その中間ファイルを裏で作ってステージングしてくれる．</p>
<p>とにかく導入してよかった，簡単だったし．
ついでに Emacs のバージョンを 23 系から 24 に変えた．
今までの .emacs でほとんど変える必要がなく無事動いたが，<code>menu-bar-mode</code> と <code>tool-bar-mode</code> の引数を省略したときの挙動が変わったようなのでそこだけ修正．</p>
<!-- HTML_TAG_END --></section>

    

    <section class="mentions svelte-19gm1ik"><section class="reaction svelte-19gm1ik"><a href="https://twitter.com/intent/tweet?url=" class="svelte-19gm1ik" style="background-image: url(/_app/immutable/assets/message-circle-c0b45d48.svg); color: #3579d1;"><small class="svelte-19gm1ik">Twitterで</small>
        <span class="svelte-19gm1ik">コメントする</span></a></section>

  <h1 class="svelte-19gm1ik">Mentions</h1>
  <ol reversed class="svelte-19gm1ik loading"></ol>
</section></article>
</main>

<footer>Built with <a href="https://github.com/kissge/monolog">monolog</a>
</footer>


		<script type="module" data-sveltekit-hydrate="wyf4df">
		import { start } from "/_app/immutable/start-c45c172a.js";
		start({
			target: document.querySelector('[data-sveltekit-hydrate="wyf4df"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "always",
			hydrate: {
				status: 200,
				error: null,
				nodes: [0, 2],
				params: {entity:"notes\u002Fgit-gutter\u002F"},
				routeId: "[...entity]"
			}
		});
	</script><script type="application/json" sveltekit:data-type="props">{"entity":{"name":"Emacs: git-gutter が便利過ぎる","nameSegmented":["Emacs: ","git-","gutter が","便利過ぎる"],"kind":"note","urlPath":"/notes/git-gutter","historyURL":"https://github.com/kissge/yo.eki.do/commits/master/notes/git-gutter.md","lastModified":"2022-06-11T08:16:13.000Z","attributes":{"from":"wordpress","title":"Emacs: git-gutter が便利過ぎる","date":"2014-07-23T19:15:10.000Z"},"tags":[],"body":"\u003Cp>あまりに感動したのでつい．\u003C/p>\n\u003Cp>SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．\n簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．\nたぶん \u003Ca href=\"http://emacs-jp.github.io/packages/vcs/git-gutter.html\">git-gutter.el - Emacs JP\u003C/a> とかを見れば分かる．\u003C/p>\n\u003Cimg src=\"/images/uploads/2014/07/git-gutter.png\" alt=\"git-gutter\" width=\"610\" height=\"137\" class=\"alignnone size-full wp-image-96\" data-wp-pid=\"96\" />\n▲左側の緑色の \"+\" のところね．\n\n\u003C!--more-->\n\n\u003Cp>今回自分が導入したのは \u003Ca href=\"https://github.com/nonsequitur/git-gutter-fringe-plus\">git-gutter-fringe+.el\u003C/a> という亜種で，\u003Ca href=\"http://www.emacswiki.org/emacs/FringeHelper\">Fringe Helper\u003C/a> を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．\u003C/p>\n\u003Cp>もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．\n\u003Ccode>git-gutter+-stage-hunks\u003C/code> という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．\nつまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作ってから別の箇所を変更するコミットを作りたいときに，その中間ファイルを裏で作ってステージングしてくれる．\u003C/p>\n\u003Cp>とにかく導入してよかった，簡単だったし．\nついでに Emacs のバージョンを 23 系から 24 に変えた．\n今までの .emacs でほとんど変える必要がなく無事動いたが，\u003Ccode>menu-bar-mode\u003C/code> と \u003Ccode>tool-bar-mode\u003C/code> の引数を省略したときの挙動が変わったようなのでそこだけ修正．\u003C/p>\n","headline":"あまりに感動したのでつい．SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．たぶん git-gutter.el - Emacs JP とかを見れば分かる．▲左側の緑色の \"+\" のところね．今回自分が導入したのは git-gutter-fringe+.el という亜種で，Fringe Helper を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．git-gutter+-stage-hunks という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．つまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作って","links":{"to":{"urlPath":"/notes/git-gutter","entities":[]},"from":{"urlPath":"/notes/git-gutter","entities":[]},"kind":{"urlPath":"/notes/git-gutter","entities":[]}}}}</script></div>
  </body>
</html>
