<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/images/favicon.svg" type="image/svg+xml" />
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/github.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Shippori+Mincho+B1:wght@400;800&amp;display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <meta http-equiv="content-security-policy" content=""><title>Emacs: git-gutter が便利過ぎる - 2014-07-24 | 葉月夜堂</title><link href="https://twitter.com/p_km" rel="me" data-svelte="svelte-b3hblc">
    <link rel="webmention" href="https://webmention.io/yo.eki.do/webmention" data-svelte="svelte-b3hblc">
    <link rel="pingback" href="https://webmention.io/yo.eki.do/xmlrpc" data-svelte="svelte-b3hblc"><meta property="og:site_name" content="葉月夜堂" data-svelte="svelte-b3hblc"><link rel="stylesheet" href="/kind-emoji.css" data-svelte="svelte-b3hblc"><meta property="og:type" content="article" data-svelte="svelte-xg47o3"><meta property="og:title" content="Emacs: git-gutter が便利過ぎる - 2014-07-24 | 葉月夜堂" data-svelte="svelte-xg47o3"><meta property="og:description" content="あまりに感動したのでつい．SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．たぶん git-gutter.el - Emacs JP とかを見れば分かる．▲左側の緑色の &quot;+&quot; のところね．今回自分が導入したのは git-gutter-fringe+.el という亜種で，Fringe Helper を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．git-gutter+-stage-hunks という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．つまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作って" data-svelte="svelte-xg47o3"><meta property="og:image" content="https://yo.eki.do/images/og.png" data-svelte="svelte-xg47o3">
	<style>*,*:before,*:after{box-sizing:border-box}body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}ul[role=list],ol[role=list]{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}a:not([class]){text-decoration-skip-ink:auto}img,picture{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){html:focus-within{scroll-behavior:auto}*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}@font-face{font-family:Emoji;src:local("Segoe UI Emoji"),local("Segoe UI Symbol"),local("Apple Color Emoji"),local("Noto Color Emoji"),local("Noto Emoji");font-display:swap;unicode-range:U+203C,U+2049,U+20E3,U+2139,U+231A-231B,U+2328,U+23CF,U+23E9-23F3,U+23F8-23FA,U+25AA-25AB,U+25FB-25FE,U+2600-2604,U+260E,U+2611,U+2614-2615,U+2618,U+261D,U+2620,U+2622-2623,U+2626,U+262A,U+262E-262F,U+2638-263A,U+2648-2653,U+2660,U+2663,U+2665-2666,U+2668,U+267B,U+267F,U+2692-2697,U+2699,U+269B-269C,U+26A0-26A1,U+26AA-26AB,U+26B0-26B1,U+26BD-26BE,U+26C4-26C5,U+26C8,U+26CE-26CF,U+26D1,U+26D3-26D4,U+26E9-26EA,U+26F0-26F5,U+26F7-26FA,U+26FD,U+2702,U+2705,U+2708-270D,U+270F,U+2712,U+2714,U+2716,U+271D,U+2721,U+2728,U+2733-2734,U+2744,U+2747,U+274C,U+274E,U+2753-2755,U+2757,U+2763-2764,U+2795-2797,U+27A1,U+27B0,U+27BF,U+2B05-2B07,U+2B1B-2B1C,U+2B50,U+2B55,U+3030,U+3297,U+3299,U+FE0F,U+1F004,U+1F0CF,U+1F170-1F171,U+1F17E-1F17F,U+1F18E,U+1F191-1F19A,U+1F1E6-1F1FF,U+1F201-1F202,U+1F21A,U+1F22F,U+1F232-1F23A,U+1F250-1F251,U+1F300-1F321,U+1F324-1F393,U+1F396-1F397,U+1F399-1F39B,U+1F39E-1F3F0,U+1F3F3-1F3F5,U+1F3F7-1F4FD,U+1F4FF-1F53D,U+1F549-1F54E,U+1F550-1F567,U+1F56F-1F570,U+1F573-1F57A,U+1F587,U+1F58A-1F58D,U+1F590,U+1F595-1F596,U+1F5A4-1F5A5,U+1F5A8,U+1F5B1-1F5B2,U+1F5BC,U+1F5C2-1F5C4,U+1F5D1-1F5D3,U+1F5DC-1F5DE,U+1F5E1,U+1F5E3,U+1F5E8,U+1F5EF,U+1F5F3,U+1F5FA-1F64F,U+1F680-1F6C5,U+1F6CB-1F6D2,U+1F6E0-1F6E5,U+1F6E9,U+1F6EB-1F6EC,U+1F6F0,U+1F6F3-1F6F8,U+1F910-1F93A,U+1F93C-1F93E,U+1F940-1F945,U+1F947-1F94C,U+1F950-1F96B,U+1F980-1F997,U+1F9C0,U+1F9D0-1F9E6,U+E0062-E0063,U+E0065,U+E0067,U+E006C,U+E006E,U+E0073-E0074,U+E0077,U+E007F}@font-face{font-weight:700;font-family:Emoji;font-display:swap;src:local("Segoe UI Emoji"),local("Segoe UI Symbol"),local("Apple Color Emoji"),local("Noto Color Emoji") local("Noto Emoji");unicode-range:U+203C,U+2049,U+20E3,U+2139,U+231A-231B,U+2328,U+23CF,U+23E9-23F3,U+23F8-23FA,U+25AA-25AB,U+25FB-25FE,U+2600-2604,U+260E,U+2611,U+2614-2615,U+2618,U+261D,U+2620,U+2622-2623,U+2626,U+262A,U+262E-262F,U+2638-263A,U+2648-2653,U+2660,U+2663,U+2665-2666,U+2668,U+267B,U+267F,U+2692-2697,U+2699,U+269B-269C,U+26A0-26A1,U+26AA-26AB,U+26B0-26B1,U+26BD-26BE,U+26C4-26C5,U+26C8,U+26CE-26CF,U+26D1,U+26D3-26D4,U+26E9-26EA,U+26F0-26F5,U+26F7-26FA,U+26FD,U+2702,U+2705,U+2708-270D,U+270F,U+2712,U+2714,U+2716,U+271D,U+2721,U+2728,U+2733-2734,U+2744,U+2747,U+274C,U+274E,U+2753-2755,U+2757,U+2763-2764,U+2795-2797,U+27A1,U+27B0,U+27BF,U+2B05-2B07,U+2B1B-2B1C,U+2B50,U+2B55,U+3030,U+3297,U+3299,U+FE0F,U+1F004,U+1F0CF,U+1F170-1F171,U+1F17E-1F17F,U+1F18E,U+1F191-1F19A,U+1F1E6-1F1FF,U+1F201-1F202,U+1F21A,U+1F22F,U+1F232-1F23A,U+1F250-1F251,U+1F300-1F321,U+1F324-1F393,U+1F396-1F397,U+1F399-1F39B,U+1F39E-1F3F0,U+1F3F3-1F3F5,U+1F3F7-1F4FD,U+1F4FF-1F53D,U+1F549-1F54E,U+1F550-1F567,U+1F56F-1F570,U+1F573-1F57A,U+1F587,U+1F58A-1F58D,U+1F590,U+1F595-1F596,U+1F5A4-1F5A5,U+1F5A8,U+1F5B1-1F5B2,U+1F5BC,U+1F5C2-1F5C4,U+1F5D1-1F5D3,U+1F5DC-1F5DE,U+1F5E1,U+1F5E3,U+1F5E8,U+1F5EF,U+1F5F3,U+1F5FA-1F64F,U+1F680-1F6C5,U+1F6CB-1F6D2,U+1F6E0-1F6E5,U+1F6E9,U+1F6EB-1F6EC,U+1F6F0,U+1F6F3-1F6F8,U+1F910-1F93A,U+1F93C-1F93E,U+1F940-1F945,U+1F947-1F94C,U+1F950-1F96B,U+1F980-1F997,U+1F9C0,U+1F9D0-1F9E6,U+E0062-E0063,U+E0065,U+E0067,U+E006C,U+E006E,U+E0073-E0074,U+E0077,U+E007F}body{padding-top:4rem;color:#222;font-weight:400;font-family:Emoji,"Shippori Mincho B1",serif;line-height:1.8;text-underline-offset:.1em}a{color:#3d2fb9;text-decoration:underline;transition:text-decoration-color .15s ease-in-out;text-decoration-color:#d5d0fb}a:hover{text-decoration-color:transparent}.link-icon{margin-right:3px;height:1em;vertical-align:middle;transform:translateY(-1px)}.monolog-link.empty{color:#b92f3d;text-decoration:none}nav{position:fixed;top:0;left:0;z-index:999;padding:1rem .5rem;width:100%;height:4rem}nav ul{margin:0;padding:0}nav li{display:inline-block;margin-right:5px}nav a{position:relative;padding:0 1em;color:#222;text-decoration:none;text-shadow:0 0 8px #fff,0 0 8px #fff,0 0 8px #fff;transition:text-shadow 4s ease-in-out}nav a:after{position:absolute;bottom:calc(-1rem - 7px);left:0;display:block;width:0;height:5px;background-color:#eee;content:"";transition:width .2s ease-in-out}nav a:hover,nav a[aria-current]{text-shadow:0 0 8px #fff,0 0 8px #fff,0 0 8px #fff,0 0 8px #fff,0 0 8px #fff,0 0 8px #fff,0 0 8px #fff,0 0 8px #fff,0 0 8px #fff;transition-duration:.2s}nav a:hover:after,nav a[aria-current]:after{width:100%}nav a[href="/"]:before{display:inline-block;margin-right:3px;margin-left:1px;width:1em;height:1em;background-image:url(/images/favicon.svg);background-size:contain;content:"";vertical-align:middle}nav.isTop{border-bottom:1px solid #ccc;background-image:url(/images/default.svg);background-position:left top;background-size:cover}.global-footer{padding:2em;text-align:center;font-size:.8em}.global-footer:not(:hover){opacity:.5}main{margin:40px auto;padding:0 40px;max-width:1000px}.links{display:table;margin:0;padding:0;border-spacing:0 3em;border-collapse:separate;line-height:1.6}@media screen and (max-width: 800px){.links{display:block;margin-top:3em;border-spacing:unset}}.link-group{display:table-row}@media screen and (max-width: 800px){.link-group{display:block;margin-bottom:3em}}.link-group-title{display:table-cell;padding-right:1em;width:11em;font-weight:inherit;font-size:1em}@media screen and (max-width: 800px){.link-group-title{display:block;margin-bottom:1em;padding-right:0;width:auto;font-size:1.2em}}.link-group-links{display:table-cell;padding-left:1em;border-left:1px solid #ccc;list-style:none}@media screen and (max-width: 800px){.link-group-links{display:block;padding-left:0;border-left:none}}.link{margin-bottom:.4em;padding-left:2em;text-indent:-2em}@media screen and (max-width: 800px){.link{padding-left:1em;text-indent:-1em}}.link>*{text-indent:0}.link .tags{white-space:nowrap}.link p{display:inline;padding-left:5px;color:#757575}.link small{color:#333;white-space:nowrap;font-size:.6em}:target{animation:target-highlight 1s 3}@keyframes target-highlight{0%{background:#eee}to{background:unset}}sup{vertical-align:super;font-size:smaller}img{display:revert}

@charset "UTF-8";.monolog-link.svelte-1ytxadn:before{display:inline-block;padding-right:.5em;width:1.75em;vertical-align:baseline;text-align:center;font-size:.75em}.mentions.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{margin-top:40px;padding-top:40px;border-top:1px solid #ccc}@media screen and (max-width: 512px){.mentions.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{padding-top:20px}}h1.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{font-size:1.3em}ol.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{padding-left:1em}@media screen and (max-width: 800px){ol.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{padding-left:0}}li.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{margin-bottom:1em;line-height:1.4}li.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik::marker{color:#aaa}li.svelte-19gm1ik span.svelte-19gm1ik.svelte-19gm1ik{display:inline-block}@media screen and (max-width: 800px){li.svelte-19gm1ik span.svelte-19gm1ik.svelte-19gm1ik{display:block;margin-left:1em}}a.no-color.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{text-decoration:none}a.no-color.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik:not(:hover){color:currentColor}a.no-color.svelte-19gm1ik img.svelte-19gm1ik.svelte-19gm1ik{margin:0 5px}img.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{width:1em;height:1em;vertical-align:middle;transform:translateY(-2px)}blockquote.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{margin-top:.4em;margin-left:2em;padding-left:1em;border-left:1px solid #ccc;font-style:italic;font-size:.8em}.reaction.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{display:flex;float:right;margin-top:.3em;margin-bottom:1em;gap:.5em}.reaction.svelte-19gm1ik a.svelte-19gm1ik.svelte-19gm1ik{display:block;padding-left:2.1875em;height:1.704375em;background-size:contain;background-repeat:no-repeat;text-decoration:none;line-height:1.35}@media (hover: hover){.reaction.svelte-19gm1ik a.svelte-19gm1ik.svelte-19gm1ik:not(:hover){opacity:.5}}.reaction.svelte-19gm1ik a.svelte-19gm1ik small.svelte-19gm1ik{display:block;font-size:.2em}.reaction.svelte-19gm1ik a.svelte-19gm1ik span.svelte-19gm1ik{display:block;font-size:.7em}@media screen and (max-width: 370px){.reaction.svelte-19gm1ik a.svelte-19gm1ik.svelte-19gm1ik{font-size:.65em}}@media screen and (max-width: 512px){.reaction.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik{float:none;justify-content:space-between}}.loading.svelte-19gm1ik.svelte-19gm1ik.svelte-19gm1ik:before{display:block;padding-left:1.3em;background-image:url(https://cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif);background-size:contain;background-repeat:no-repeat;color:#aaa;content:"\8aad\307f\8fbc\307f\4e2d";line-height:.9}.tag.svelte-o20os9{display:inline-block;margin-left:.3em;padding:.1em .4em;border-radius:5px;background-color:#eee;text-decoration:none;white-space:nowrap;font-size:.7em;line-height:1.4;opacity:.65;transition:opacity .5s ease-in-out}li:hover>.tag.svelte-o20os9,li:hover>span>.tag.svelte-o20os9{opacity:1}.tag.svelte-o20os9:hover{background-color:#ddd}.tag.large.svelte-o20os9{margin-right:.3em;margin-left:0;font-size:1em;opacity:1}.tag.svelte-o20os9:before{color:#757575}time.svelte-5ni4x2.svelte-5ni4x2{white-space:nowrap}span.svelte-5ni4x2.svelte-5ni4x2{opacity:.1;transition:opacity .1s ease-in-out}.svelte-5ni4x2:not(:hover)>span.svelte-5ni4x2{opacity:.3}

@charset "UTF-8";header.svelte-1askvef.svelte-1askvef.svelte-1askvef{margin-bottom:2em;transition:padding-top .2s ease-in-out,margin-bottom .2s ease-in-out}header.svelte-1askvef.svelte-1askvef.svelte-1askvef:not(.noHeaderImage){padding-top:360px}@media screen and (max-width: 1050px){header.svelte-1askvef:not(.noHeaderImage) h1.svelte-1askvef.svelte-1askvef:before{margin-top:-1em}}header.svelte-1askvef h1.svelte-1askvef.svelte-1askvef{word-break:keep-all;font-weight:700;font-size:2em;line-height:1.2;overflow-wrap:break-word}@media screen and (max-width: 800px){header.svelte-1askvef h1.svelte-1askvef.svelte-1askvef{font-size:1.7em;line-height:1.3}}header.svelte-1askvef h1.svelte-1askvef~section.svelte-1askvef{margin-top:1.5em}header.svelte-1askvef h1.svelte-1askvef.svelte-1askvef:before{display:inline-block;margin-left:-3em;padding-right:.5em;width:3em;text-align:right}@media screen and (max-width: 1050px){header.svelte-1askvef h1.svelte-1askvef.svelte-1askvef:before{display:block;margin-bottom:.25em;margin-left:0;padding-right:0;text-align:left;font-size:1.5em}}header.svelte-1askvef h2.svelte-1askvef.svelte-1askvef{font-weight:inherit;font-size:1em}header.svelte-1askvef .meta.svelte-1askvef.svelte-1askvef{float:right;text-align:right}@media screen and (max-width: 800px){header.svelte-1askvef .meta.svelte-1askvef.svelte-1askvef{float:unset}}header.svelte-1askvef .meta p.svelte-1askvef.svelte-1askvef{margin:.25em 0}header.svelte-1askvef .url a.svelte-1askvef.svelte-1askvef{color:#444;font-weight:700;font-family:monospace}header.svelte-1askvef .toolbar.svelte-1askvef.svelte-1askvef{clear:both;margin:8em 0;text-align:right}header.svelte-1askvef button.svelte-1askvef.svelte-1askvef{padding:.3em 1em;font-size:1.2em}header.svelte-1askvef.svelte-1askvef.svelte-1askvef:after{display:block;clear:both;content:""}.header-image.svelte-1askvef.svelte-1askvef.svelte-1askvef{position:absolute;top:0;left:0;z-index:-999;margin:0;width:100%;height:400px;background-image:url(/images/default.svg);background-position:center center;background-size:cover;transition:height .2s ease-in-out}.header-image.noHeaderImage.svelte-1askvef.svelte-1askvef.svelte-1askvef{height:4rem}.body.svelte-1askvef.svelte-1askvef.svelte-1askvef{line-height:2;overflow-wrap:break-word}.links-section.svelte-1askvef.svelte-1askvef.svelte-1askvef{margin-top:120px;border-top:1px solid #ccc;transition:margin-top .2s ease-in-out,border-top-color 1s ease-in-out}.nav-background.svelte-1askvef.svelte-1askvef.svelte-1askvef{position:fixed;top:0;left:0;z-index:998;width:100%;height:4rem;background-image:url(/images/default.svg);background-position:center center;background-size:cover;transition:height .7s ease-in-out}.nav-background.svelte-1askvef.svelte-1askvef.svelte-1askvef:after{position:absolute;top:0;left:0;display:block;width:100%;height:100%;border-bottom:1px solid #ccc;content:"";transition:all 1.5s .7s ease-out}.nav-background.isHeaderInView.svelte-1askvef.svelte-1askvef.svelte-1askvef{height:0;transition-duration:.1s}.nav-background.isHeaderInView.svelte-1askvef.svelte-1askvef.svelte-1askvef:after{width:0;border-bottom-color:#222;transition:none}.empty.svelte-1askvef header.svelte-1askvef.svelte-1askvef{margin-bottom:0}.empty.svelte-1askvef header h1.svelte-1askvef.svelte-1askvef{color:#681a22}.empty.svelte-1askvef .links-section.svelte-1askvef.svelte-1askvef{margin-top:0;border-top-color:transparent}.body>*{margin:1.5em 0;max-width:100%}.body h1,.body h2,.body h3,.body h4,.body h5,.body h6{font-weight:700;line-height:1.3}.body>h1:before,.body>h2:before,.body>h3:before,.body>h4:before,.body>h5:before,.body>h6:before{display:inline-block;margin-left:-8em;padding-right:8px;width:8em;text-align:right;opacity:.3}.body h1{font-size:1.8em}.body h2{font-size:1.5em}.body h3{font-size:1.2em}.body>h1:before{content:"#"}.body>h2:before{content:"##"}.body>h3:before{content:"###"}.body>h4:before{content:"####"}.body>h5:before{content:"#####"}.body>h6:before{content:"######"}.body p{text-align:justify;text-indent:1em}.body blockquote{padding-left:1.2em;border-left:5px solid #8fb6f0}.body pre{overflow:auto;padding:1.5em;max-height:60vh;border-radius:3px;background-color:#f9f9f9;box-shadow:inset 1px 1px 5px #0000000d;white-space:pre;font-family:monospace;line-height:1.4;-webkit-locale:"auto"}.body ol,.body ul{display:block;padding-inline-start:3em}.body ol ul,.body ul ul{list-style-type:circle}.body ol ol,.body ol ul,.body ul ol,.body ul ul{border-left:1px dashed transparent}.body ol ol ul,.body ol ul ul,.body ul ol ul,.body ul ul ul{list-style-type:square}.body ol ol ol ul,.body ol ol ul ul,.body ol ul ol ul,.body ol ul ul ul,.body ul ol ol ul,.body ul ol ul ul,.body ul ul ol ul,.body ul ul ul ul{list-style-type:disc}.body ol ol:hover>li:not(:hover),.body ol ul:hover>li:not(:hover),.body ul ol:hover>li:not(:hover),.body ul ul:hover>li:not(:hover){opacity:.35;transition-delay:2s}.body ol:hover>li>*>li:hover,.body ul:hover>li>*>li:hover{position:relative}.body ol:hover>li>*>li:hover:before,.body ul:hover>li>*>li:hover:before{position:absolute;top:-.25em;left:-2.75em;display:block;width:8px;content:"\2937";font-weight:700;opacity:.5}.body ol>li:hover>ol,.body ol>li:hover>ul,.body ul>li:hover>ol,.body ul>li:hover>ul{border-left-color:#ccc}.body ol{list-style-type:decimal}.body ol>li>ol,.body ol>li>ul{margin-inline-start:-.75em;padding-inline-start:3.75em}.body ul{list-style-type:disc}.body ul>li>ol,.body ul>li>ul{margin-inline-start:-1.05em;padding-inline-start:4.05em}.body>ol,.body>ul,.body blockquote>ol,.body blockquote>ul{padding-inline-start:1em}.body li{transition:opacity .5s 0s ease-in-out}.body .table-wrapper{overflow:auto}@media screen and (min-width: 1400px){.body .table-wrapper{margin-right:calc((100% - (100vw - 40px))/2);margin-left:calc((100% - (100vw - 40px))/2);max-width:calc(100vw - 40px)}}.body table{margin:1.5em -550% 1.5em -.5em;max-width:650%;width:auto;border-spacing:.5em;border-collapse:separate;font-size:.8em;line-height:1.4}@media screen and (min-width: 1400px){.body table{margin:0 auto}}.body table thead th{border-bottom:2px solid #888;font-weight:700}.body table tbody tr:nth-child(even){background-color:#f7f1f1}.body table th,.body table td{padding:.4em}.body table [align=center]{text-align:center}.body table [align=right]{text-align:right}.body figure{max-width:unset;text-align:center;transition:margin 1s 2s ease-in-out}.body figure img{box-shadow:0 0 12px 3px #ccc8}.body figure:hover{margin-right:calc((100vw - 100% - 25px)/-2);margin-left:calc((100vw - 100% - 25px)/-2)}.body figcaption{color:#888;font-size:.8em;line-height:1.25}.body>img{display:block;margin:1.5em auto}.body>iframe{display:block;margin:1.5em auto}.body hr{display:block;margin:3em 0;border-top:1px solid #ccc}.body .footnotes{margin-top:6em;color:#888}.body del{color:#777;text-decoration:line-through;transition:text-decoration-color .15s ease-in-out;text-decoration-color:#af2929;text-decoration-thickness:3px}.body del:hover{opacity:.5;text-decoration-color:transparent}.body strong{font-weight:700}.body :not(em)>strong{background:linear-gradient(transparent 60%,#eef7cd 60%)}.body em{font-style:italic}.body :not(strong)>em{background:linear-gradient(transparent 60%,#e0f3f8 60%)}.body :not(pre)>code{padding:.2em .4em;border-radius:2px;background-color:#f0f0f0;color:#555;font-size:calc(1em - 2px);font-family:Menlo,Inconsolata,monospace}.body kbd{margin:0 5px;padding:.2em .4em;border:1px solid #999;border-radius:6px;background-color:#fcfcfc;color:#555;white-space:nowrap;font-size:calc(1em - 2px);font-family:Menlo,Inconsolata,monospace}.body .footnote-link a{text-decoration:none}.body a.monolog-link:before,.body a[href="/"]:before{display:inline-block;margin-right:3px;margin-left:1px;width:1em;height:1em;background-image:url(/images/favicon.svg);background-size:contain;content:"";vertical-align:middle}.body .ipa{font-family:Charis SIL,Doulos SIL,DejaVu Sans,Code2000,Hiragino Kaku Gothic Pro,Matrix Unicode,Tahoma,"Microsoft Sans Serif",sans-serif}@media screen and (min-width: 800px){.body .float-right{float:right;margin:.5em 0 .8em 1.2em;width:300px}}@media screen and (max-width: 800px){.body .float-right{width:100%}}
</style>
	<link rel="stylesheet" href="/_app/immutable/assets/pages/__layout.svelte-a27ec198.css" disabled media="(max-width: 0)">
	<link rel="stylesheet" href="/_app/immutable/assets/time.svelte_svelte_type_style_lang-8d43daca.css" disabled media="(max-width: 0)">
	<link rel="stylesheet" href="/_app/immutable/assets/pages/_...entity_.svelte-fd60fffd.css" disabled media="(max-width: 0)">
	<link rel="modulepreload" href="/_app/immutable/start-4a55d3db.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/index-ec00db2f.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/preload-helper-60cab3ee.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/singletons-d1fb5791.js">
	<link rel="modulepreload" href="/_app/immutable/pages/__layout.svelte-3fbb6b74.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/stores-b892512b.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/time.svelte_svelte_type_style_lang-6415c217.js">
	<link rel="modulepreload" href="/_app/immutable/pages/_...entity_.svelte-6aae7858.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/tags-318ef311.js">
  </head>
  <body>
    <div>




<nav><ul><li><a sveltekit:prefetch href="/">葉月夜堂</a>
      </li><li><a sveltekit:prefetch href="/timeline">timeline</a>
      </li><li><a sveltekit:prefetch href="/about">about</a>
      </li></ul></nav>



<div class="nav-background svelte-1askvef isHeaderInView" style=""></div>

<main><article data-kind="note" class="svelte-1askvef"><header class="viewer-header svelte-1askvef"><h1 class="svelte-1askvef">Emacs: <wbr>git-<wbr>gutter が<wbr>便利過ぎる</h1>

      

      <section class="meta svelte-1askvef"><p class="svelte-1askvef"><time title="8 年半前" class="svelte-5ni4x2">Wed Jul 23 2014 19:15:10 GMT+0000 (Coordinated Universal Time)</time></p>

        <p class="svelte-1askvef"><a href="https://github.com/kissge/yo.eki.do/commits/master/notes/git-gutter.md" title="Sun Apr 17 2022 12:08:43 GMT+0000 (Coordinated Universal Time)" class="svelte-1askvef">最終更新：7 か月半前</a></p></section>

      

      

      

      <section class="header-image svelte-1askvef" style=""></section></header>

    <section class="body svelte-1askvef"><!-- HTML_TAG_START --><p>あまりに感動したのでつい．</p>
<p>SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．たぶん <a href="http://emacs-jp.github.io/packages/vcs/git-gutter.html">git-gutter.el - Emacs JP</a> とかを見れば分かる．</p>
<img src="/images/uploads/2014/07/git-gutter.png" alt="git-gutter" width="610" height="137" class="alignnone size-full wp-image-96" data-wp-pid="96" />
▲左側の緑色の "+" のところね．

<!--more-->

<p>今回自分が導入したのは <a href="https://github.com/nonsequitur/git-gutter-fringe-plus">git-gutter-fringe+.el</a> という亜種で，<a href="http://www.emacswiki.org/emacs/FringeHelper">Fringe Helper</a> を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．</p>
<p>もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．<code>git-gutter+-stage-hunks</code> という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．つまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作ってから別の箇所を変更するコミットを作りたいときに，その中間ファイルを裏で作ってステージングしてくれる．</p>
<p>とにかく導入してよかった，簡単だったし．ついでに Emacs のバージョンを 23 系から 24 に変えた．今までの .emacs でほとんど変える必要がなく無事動いたが，<code>menu-bar-mode</code> と <code>tool-bar-mode</code> の引数を省略したときの挙動が変わったようなのでそこだけ修正．</p>
<!-- HTML_TAG_END --></section>

    

    <section class="mentions svelte-19gm1ik"><section class="reaction svelte-19gm1ik"><a href="https://twitter.com/intent/tweet?url=" class="svelte-19gm1ik" style="background-image: url(/_app/immutable/assets/message-circle-c0b45d48.svg); color: #3579d1;"><small class="svelte-19gm1ik">Twitterで</small>
        <span class="svelte-19gm1ik">コメントする</span></a></section>

  <h1 class="svelte-19gm1ik">Mentions</h1>
  <ol reversed class="svelte-19gm1ik loading"></ol>
</section></article>
</main>

<footer class="global-footer">Built with <a href="https://github.com/kissge/monolog">monolog</a>
</footer>


		<script type="module" data-sveltekit-hydrate="1hr8yrc">
		import { start } from "/_app/immutable/start-4a55d3db.js";
		start({
			target: document.querySelector('[data-sveltekit-hydrate="1hr8yrc"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "always",
			hydrate: {
				status: 200,
				error: null,
				nodes: [0, 2],
				params: {entity:"notes\u002Fgit-gutter\u002F"},
				routeId: "[...entity]"
			}
		});
	</script><script type="application/json" sveltekit:data-type="props">{"entity":{"name":"Emacs: git-gutter が便利過ぎる","nameSegmented":["Emacs: ","git-","gutter が","便利過ぎる"],"kind":"note","urlPath":"/notes/git-gutter","historyURL":"https://github.com/kissge/yo.eki.do/commits/master/notes/git-gutter.md","lastModified":"2022-04-17T12:08:43.000Z","attributes":{"from":"wordpress","title":"Emacs: git-gutter が便利過ぎる","date":"2014-07-23T19:15:10.000Z"},"tags":[],"body":"\u003Cp>あまりに感動したのでつい．\u003C/p>\n\u003Cp>SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．たぶん \u003Ca href=\"http://emacs-jp.github.io/packages/vcs/git-gutter.html\">git-gutter.el - Emacs JP\u003C/a> とかを見れば分かる．\u003C/p>\n\u003Cimg src=\"/images/uploads/2014/07/git-gutter.png\" alt=\"git-gutter\" width=\"610\" height=\"137\" class=\"alignnone size-full wp-image-96\" data-wp-pid=\"96\" />\n▲左側の緑色の \"+\" のところね．\n\n\u003C!--more-->\n\n\u003Cp>今回自分が導入したのは \u003Ca href=\"https://github.com/nonsequitur/git-gutter-fringe-plus\">git-gutter-fringe+.el\u003C/a> という亜種で，\u003Ca href=\"http://www.emacswiki.org/emacs/FringeHelper\">Fringe Helper\u003C/a> を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．\u003C/p>\n\u003Cp>もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．\u003Ccode>git-gutter+-stage-hunks\u003C/code> という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．つまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作ってから別の箇所を変更するコミットを作りたいときに，その中間ファイルを裏で作ってステージングしてくれる．\u003C/p>\n\u003Cp>とにかく導入してよかった，簡単だったし．ついでに Emacs のバージョンを 23 系から 24 に変えた．今までの .emacs でほとんど変える必要がなく無事動いたが，\u003Ccode>menu-bar-mode\u003C/code> と \u003Ccode>tool-bar-mode\u003C/code> の引数を省略したときの挙動が変わったようなのでそこだけ修正．\u003C/p>\n","headline":"あまりに感動したのでつい．SublimeText にある GitGutter という拡張の Emacs Lisp 版が git-gutter.el である．簡単に言うと git リポジトリ内で編集中のファイルのどの行が変更されたのかなどを常に表示しておいてくれる．たぶん git-gutter.el - Emacs JP とかを見れば分かる．▲左側の緑色の \"+\" のところね．今回自分が導入したのは git-gutter-fringe+.el という亜種で，Fringe Helper を使ってアイコンを表示するもの（元のバージョンでは表示用に別のバッファを使うようなトリッキィな感じになっている？らしい）．おすすめ．もちろん git diff が常に表示できたり変更部分にジャンプできたりというのは素晴らしいのだがそれだけではない．git-gutter+-stage-hunks という関数があって，これが何をやってくれるかというと「編集中のファイルの一部分だけをステージングする」というもの．つまり，あるファイルの二箇所以上を編集していたとして，それらをひとつのコミットにするのではなく一箇所を変更したコミットを作って","links":{"to":{"urlPath":"/notes/git-gutter","entities":[]},"from":{"urlPath":"/notes/git-gutter","entities":[]},"kind":{"urlPath":"/notes/git-gutter","entities":[]}},"isEmpty":false}}</script></div>
  </body>
</html>
