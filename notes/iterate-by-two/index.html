<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <link href=/global.css rel=preload as=style onload="this.onload=null;this.rel='stylesheet'"> <link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css rel=preload as=style onload="this.onload=null;this.rel='stylesheet'"> <link href=/manifest.json rel=manifest crossorigin=use-credentials> <link href=/images/favicon.svg rel=icon type=image/svg+xml> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{from:"wordpress",title:"Python: リストを2個ずつ巡回する",date:"2016-11-18T02:07:05.000Z",type:"notes",slug:"iterate-by-two",html:"\u003Cp\u003EPython: How to iterate through a list by two\u003C\u002Fp\u003E\n\u003C!--more--\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-python\"\u003Eit = \u003Cspan class=\"hljs-built_in\"\u003Erange\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E)\n\u003Cspan class=\"hljs-keyword\"\u003Efor\u003C\u002Fspan\u003E a, b \u003Cspan class=\"hljs-keyword\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ezip\u003C\u002Fspan\u003E(it, it):\n    \u003Cspan class=\"hljs-built_in\"\u003Eprint\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;{} + {} = {}&#x27;\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-built_in\"\u003Eformat\u003C\u002Fspan\u003E(a, b, a + b))\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E一瞬これでいけるかな？と思うも\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-symbol\"\u003E0 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E1 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E2 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E3 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E4 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E8\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E5 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E6 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E6\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E12\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E7 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E14\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E8 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E8\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E16\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E9 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E9\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E18\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Eとなるところ、ここに一行足して\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs language-python\"\u003Eit = \u003Cspan class=\"hljs-built_in\"\u003Erange\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E)\nitit = \u003Cspan class=\"hljs-built_in\"\u003Eiter\u003C\u002Fspan\u003E(it)\n\u003Cspan class=\"hljs-keyword\"\u003Efor\u003C\u002Fspan\u003E a, b \u003Cspan class=\"hljs-keyword\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ezip\u003C\u002Fspan\u003E(itit, itit):\n    \u003Cspan class=\"hljs-built_in\"\u003Eprint\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;{} + {} = {}&#x27;\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-built_in\"\u003Eformat\u003C\u002Fspan\u003E(a, b, a + b))\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Eとすると\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-symbol\"\u003E0 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E2 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E4 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E9\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E6 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E7\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E13\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-symbol\"\u003E8 \u003C\u002Fspan\u003E+ \u003Cspan class=\"hljs-number\"\u003E9\u003C\u002Fspan\u003E = \u003Cspan class=\"hljs-number\"\u003E17\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Eとなる。\n\u003Ccode\u003Eiter(it)\u003C\u002Fcode\u003E がポイント。\n\u003Ccode\u003EIterator\u003C\u002Fcode\u003E にすると内部状態を保持する兼ね合いでこういうことが起きるという感じか。（雑です）\nPython 2の場合は \u003Ccode\u003Eitertools.izip\u003C\u002Fcode\u003E とかを使う、たぶん。\u003C\u002Fp\u003E\n",headline:"Python: How to iterate through a list by twoit = range(10)for a, b in zip(it, it):    print(&#x27;{}"},historyURL:"https:\u002F\u002Fgithub.com\u002Fkissge\u002Fyo.eki.do\u002Fcommits\u002Fmaster\u002Fnotes\u002Fiterate-by-two.md"}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.ad92a8a1.js"}catch(e){main="/client/legacy/client.8a1ee2e2.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.5.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=/client/client-0ed4f0b2.css rel=stylesheet><link href=/client/_slug_-ad5942c7.css rel=stylesheet> <title>Python: リストを2個ずつ巡回する - 2016-11-18 | 葉月夜堂</title><link href=https://twitter.com/p_km rel=me data-svelte=svelte-119a9vg> <link href=https://webmention.io/yo.eki.do/webmention rel=webmention data-svelte=svelte-119a9vg> <link href=https://webmention.io/yo.eki.do/xmlrpc rel=pingback data-svelte=svelte-119a9vg><meta content=article data-svelte=svelte-zqyuod property=og:type><meta content="Python: リストを2個ずつ巡回する - 2016-11-18 | 葉月夜堂" data-svelte=svelte-zqyuod property=og:title><meta content="Python: How to iterate through a list by twoit = range(10)for a, b in zip(it, it):    print(&amp;#x27;{}" data-svelte=svelte-zqyuod property=og:description><meta content=葉月夜堂 data-svelte=svelte-zqyuod property=og:site_name><meta content=https://yo.eki.do/images/default.png data-svelte=svelte-zqyuod property=og:image> <link href=/client/client.ad92a8a1.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-0ed4f0b2.css rel=preload as=style><link href=/client/_slug_.907a21cd.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/utility.16d055df.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.803b7e80.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/_slug_-ad5942c7.css rel=preload as=style></head> <body> <div id=sapper> <nav class=svelte-1qy0d7s><ul class=svelte-1qy0d7s><li class=svelte-1qy0d7s><a href=/ class=svelte-1qy0d7s rel=prefetch>articles</a></li> <li class=svelte-1qy0d7s><a href=/about class=svelte-1qy0d7s rel=prefetch>about</a></ul> </nav> <main class=svelte-gph4rb> <header class=svelte-1tkryui><div class="svelte-1tkryui img-header" style=""></div> <h1 class=svelte-1tkryui>Python: リストを2個ずつ巡回する</h1> <time class=svelte-1tkryui title=5 年半前>2016-11-18<span class=date-weak>T</span>11:07:05<span class=date-weak>+09:00</span></time> <div class=tags></div> <p class="svelte-1tkryui history"><a href=https://github.com/kissge/yo.eki.do/commits/master/notes/iterate-by-two.md>更新履歴</a></header> <h1 class="svelte-1tkryui floating-header">Python: リストを2個ずつ巡回する</h1> <div class="svelte-1tkryui callout">この記事は以前別のところにあったものを移してきたものです。完璧に移植できておらず、表示が崩れているかもしれません。 </div> <div class="svelte-1tkryui content"><p>Python: How to iterate through a list by two</p> <pre><code class="hljs language-python">it = <span class=hljs-built_in>range</span>(<span class=hljs-number>10</span>)
<span class=hljs-keyword>for</span> a, b <span class=hljs-keyword>in</span> <span class=hljs-built_in>zip</span>(it, it):
    <span class=hljs-built_in>print</span>(<span class=hljs-string>'{} + {} = {}'</span>.<span class=hljs-built_in>format</span>(a, b, a + b))
</code></pre> <p>一瞬これでいけるかな？と思うも</p> <pre><code class=hljs><span class=hljs-symbol>0 </span>+ <span class=hljs-number>0</span> = <span class=hljs-number>0</span>
<span class=hljs-symbol>1 </span>+ <span class=hljs-number>1</span> = <span class=hljs-number>2</span>
<span class=hljs-symbol>2 </span>+ <span class=hljs-number>2</span> = <span class=hljs-number>4</span>
<span class=hljs-symbol>3 </span>+ <span class=hljs-number>3</span> = <span class=hljs-number>6</span>
<span class=hljs-symbol>4 </span>+ <span class=hljs-number>4</span> = <span class=hljs-number>8</span>
<span class=hljs-symbol>5 </span>+ <span class=hljs-number>5</span> = <span class=hljs-number>10</span>
<span class=hljs-symbol>6 </span>+ <span class=hljs-number>6</span> = <span class=hljs-number>12</span>
<span class=hljs-symbol>7 </span>+ <span class=hljs-number>7</span> = <span class=hljs-number>14</span>
<span class=hljs-symbol>8 </span>+ <span class=hljs-number>8</span> = <span class=hljs-number>16</span>
<span class=hljs-symbol>9 </span>+ <span class=hljs-number>9</span> = <span class=hljs-number>18</span>
</code></pre> <p>となるところ、ここに一行足して</p> <pre><code class="hljs language-python">it = <span class=hljs-built_in>range</span>(<span class=hljs-number>10</span>)
itit = <span class=hljs-built_in>iter</span>(it)
<span class=hljs-keyword>for</span> a, b <span class=hljs-keyword>in</span> <span class=hljs-built_in>zip</span>(itit, itit):
    <span class=hljs-built_in>print</span>(<span class=hljs-string>'{} + {} = {}'</span>.<span class=hljs-built_in>format</span>(a, b, a + b))
</code></pre> <p>とすると</p> <pre><code class=hljs><span class=hljs-symbol>0 </span>+ <span class=hljs-number>1</span> = <span class=hljs-number>1</span>
<span class=hljs-symbol>2 </span>+ <span class=hljs-number>3</span> = <span class=hljs-number>5</span>
<span class=hljs-symbol>4 </span>+ <span class=hljs-number>5</span> = <span class=hljs-number>9</span>
<span class=hljs-symbol>6 </span>+ <span class=hljs-number>7</span> = <span class=hljs-number>13</span>
<span class=hljs-symbol>8 </span>+ <span class=hljs-number>9</span> = <span class=hljs-number>17</span>
</code></pre> <p>となる。 <code>iter(it)</code> がポイント。 <code>Iterator</code> にすると内部状態を保持する兼ね合いでこういうことが起きるという感じか。（雑です） Python 2の場合は <code>itertools.izip</code> とかを使う、たぶん。</p> </div> <x-script async data-ad-client=ca-pub-5159408992513362 src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></x-script> <section class="svelte-1tkryui mentions"><h1 class=svelte-1tkryui>Recent public mentions on Twitter</h1> <ol class=svelte-1tkryui reversed>Loading mentions...</ol> </section> </main></div> 