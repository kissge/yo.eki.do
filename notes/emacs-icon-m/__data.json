{"type":"data","nodes":[null,{"type":"data","data":[{"entity":1},{"name":2,"nameSegmented":3,"kind":7,"urlPath":8,"historyURL":9,"lastModified":10,"attributes":11,"tags":14,"body":15,"headline":16,"links":17,"isEmpty":49},"Emacs: ファイル名補完で「Icon^M」を無視する",[4,5,6],"Emacs: ファイル名補完で","「Icon^M」を","無視する","note","/notes/emacs-icon-m","https://github.com/kissge/yo.eki.do/commits/master/notes/emacs-icon-m.md",["Date","2022-04-17T12:08:43.000Z"],{"from":12,"title":2,"date":13},"wordpress",["Date","2014-12-16T22:21:21.000Z"],[],"\u003Cp>\u003Ca href=\"/mono/Emacs\" class=\"monolog-link\"  title=\"Emacs\">Emacs\u003C/a>では\u003Ccode>find-file\u003C/code>などでのファイル名補完で特定の拡張子のファイルを候補に含まないように設定できる．たとえば.xlsxファイルを\u003Ca href=\"/mono/Emacs\" class=\"monolog-link\"  title=\"Emacs\">Emacs\u003C/a>で開くことは普段はあまりないだろう．\u003C/p>\n\u003C!--more-->\n\n\u003Cpre>\u003Ccode class=\"language-lisp\">(\u003Cspan class=\"hljs-name\">setq\u003C/span> completion-ignored-extensions\n      (\u003Cspan class=\"hljs-name\">append\u003C/span> completion-ignored-extensions\n              &#x27;(\u003Cspan class=\"hljs-string\">&quot;./&quot;\u003C/span> \u003Cspan class=\"hljs-string\">&quot;../&quot;\u003C/span> \u003Cspan class=\"hljs-string\">&quot;.xlsx&quot;\u003C/span>)))\n(\u003Cspan class=\"hljs-name\">defadvice\u003C/span> completion-file-name-table (\u003Cspan class=\"hljs-name\">after\u003C/span> ignoring-backups-f-n-completion activate)\n  \u003Cspan class=\"hljs-string\">&quot;filter out results when the have completion-ignored-extensions&quot;\u003C/span>\n  (\u003Cspan class=\"hljs-name\">let\u003C/span> ((\u003Cspan class=\"hljs-name\">res\u003C/span> ad-return-value))\n    (\u003Cspan class=\"hljs-name\">if\u003C/span> (\u003Cspan class=\"hljs-name\">and\u003C/span> (\u003Cspan class=\"hljs-name\">listp\u003C/span> res)\n             (\u003Cspan class=\"hljs-name\">stringp\u003C/span> (\u003Cspan class=\"hljs-name\">car\u003C/span> res))\n          (\u003Cspan class=\"hljs-name\">cdr\u003C/span> res)) \u003Cspan class=\"hljs-comment\">; length &gt; 1, don&#x27;t ignore sole match\u003C/span>\n        (\u003Cspan class=\"hljs-name\">setq\u003C/span> ad-return-value\n              (\u003Cspan class=\"hljs-name\">completion-pcm--filename-try-filter\u003C/span> res)))))\n\u003C/code>\u003C/pre>\n\u003Cp>（参考：\u003Ca href=\"http://stackoverflow.com/questions/1731634/dont-show-uninteresting-files-in-emacs-completion-window\">autocomplete - Don’t show uninteresting files in Emacs completion window - Stack Overflow\u003C/a>，\u003Ca href=\"/mono/Emacs\" class=\"monolog-link\"  title=\"Emacs\">Emacs\u003C/a>のバージョンによって微妙にどこかを変えなければいけなかったような気がするけど忘れた）\u003C/p>\n\u003Cp>で，マッキントッシュというオーエスでは\u003Cstrong>油断すると\u003C/strong>「Icon\\r」（\\rは制御文字のCR, 0x0d）という名前のファイルが勝手に作られることがある（「Icon?」「Icon^M」に見える場合もあるだろう）．普段は見えないので気にならないが，\u003Cstrong>油断すると\u003C/strong>，例えばDropboxがヘマをすると見えるようになっていて，CRが含まれているせいで非常に邪魔だ．消したい．\u003C/p>\n\u003Cp>が，\u003Ccode>completion-ignored-extensions\u003C/code>にそのまま\u003Ccode>\"Icon\\r\"\u003C/code>とか\u003Ccode>\"Icon\\r\"\u003C/code>とか書いてもうまくいかない．何故ならば\u003Ca href=\"/mono/Emacs\" class=\"monolog-link\"  title=\"Emacs\">Emacs\u003C/a>が自動的に\u003Ccode>\\r\u003C/code>を\u003Ccode>\\n\u003C/code>に変換してくれているからである．\u003C/p>\n\u003Cp>このことは次のようにすると確かめられる．\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-lisp\">(\u003Cspan class=\"hljs-name\">car\u003C/span> (\u003Cspan class=\"hljs-name\">file-name-all-completions\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Icon&quot;\u003C/span> \u003Cspan class=\"hljs-string\">&quot;~/Dropbox/&quot;\u003C/span>))\n=&gt; \u003Cspan class=\"hljs-string\">&quot;Icon\n&quot;\u003C/span>\n\n(\u003Cspan class=\"hljs-name\">string=\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Icon\\n&quot;\u003C/span> (\u003Cspan class=\"hljs-name\">car\u003C/span> (\u003Cspan class=\"hljs-name\">file-name-all-completions\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Icon&quot;\u003C/span> \u003Cspan class=\"hljs-string\">&quot;~/Dropbox/&quot;\u003C/span>)))\n=&gt; \u003Cspan class=\"hljs-literal\">t\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>（注．最後の\u003Ccode>~/Dropbox/\u003C/code>を適当にIconからファイル名が始まるファイルがIcon\\rしかないディレクトリに変える）\u003C/p>\n\u003Cp>と，いうわけで\u003Ccode>completion-ignored-extensions\u003C/code>には\u003Ccode>\"Icon\\n\"\u003C/code>を追加すればよい．\u003C/p>\n","Emacsではfind-fileなどでのファイル名補完で特定の拡張子のファイルを候補に含まないように設定できる．たとえば.xlsxファイルをEmacsで開くことは普段はあまりないだろう．(setq completion-ignored-extensions       (append completion-ignored-extensions               &#x27;(&quot;./&quot; &quot;../&quot; &quot;.xlsx&quot;)))(defadvice completion-file-name-table (after ignoring-backups-f-n-completion activate)  &quot;filter out results when the have completion-ignored-extensions&quot;  (let ((res ad-return-value))    (if (and (listp res)             (stringp (car res))          (cdr res)",{"to":18,"one_hop_Emacs":30},{"urlPath":8,"entities":19},[20],{"name":21,"nameSegmented":22,"kind":23,"urlPath":24,"historyURL":25,"lastModified":26,"attributes":27,"tags":28,"isEmpty":29},"Emacs",[21],"ソフトウェア","/mono/Emacs","https://github.com/kissge/yo.eki.do/commits/master/mono/ソフトウェア/Emacs.md",["Date","2024-06-01T16:59:04.000Z"],{},[],true,{"urlPath":24,"entities":31},[32,50,66,80,94,109,123],{"name":33,"nameSegmented":34,"kind":7,"urlPath":38,"historyURL":39,"lastModified":40,"attributes":41,"tags":45,"isEmpty":49},"Emacs: Windowsでやっていく2017",[35,36,37],"Emacs: Windowsで","やっていく","2017","/notes/emacs-windows-2017","https://github.com/kissge/yo.eki.do/commits/master/notes/emacs-windows-2017.md",["Date","2022-07-02T05:00:46.000Z"],{"from":12,"title":33,"date":42,"tags":43},["Date","2017-12-08T00:00:08.000Z"],[44],"アドベントカレンダー",[46],{"name":44,"kind":47,"urlPath":48},"tag","/mono/%E3%82%A2%E3%83%89%E3%83%99%E3%83%B3%E3%83%88%E3%82%AB%E3%83%AC%E3%83%B3%E3%83%80%E3%83%BC",false,{"name":51,"nameSegmented":52,"kind":7,"urlPath":60,"historyURL":61,"lastModified":62,"attributes":63,"tags":65,"isEmpty":49},"jediとかvirtualenvとかがReason: image not foundと言ってぶっ壊れたときの対処",[53,54,55,56,57,58,59],"jediとか","virtualenvとかが","Reason: image not foundと","言って","ぶっ壊れた","ときの","対処","/notes/jedi-virtualenv","https://github.com/kissge/yo.eki.do/commits/master/notes/jedi-virtualenv.md",["Date","2022-04-17T12:08:43.000Z"],{"from":12,"title":51,"date":64},["Date","2016-08-26T00:17:53.000Z"],[],{"name":67,"nameSegmented":68,"kind":7,"urlPath":72,"historyURL":73,"lastModified":74,"attributes":75,"tags":78,"isEmpty":49},"Emacs: まだターミナルで消耗してるの？",[69,70,71],"Emacs: まだ","ターミナルで","消耗してるの？","/notes/tramp-mode","https://github.com/kissge/yo.eki.do/commits/master/notes/tramp-mode.md",["Date","2022-06-11T07:33:39.000Z"],{"from":12,"title":67,"date":76,"tags":77},["Date","2015-12-04T23:00:02.000Z"],[44],[79],{"name":44,"kind":47,"urlPath":48},{"name":81,"nameSegmented":82,"kind":7,"urlPath":86,"historyURL":87,"lastModified":88,"attributes":89,"tags":92,"isEmpty":49},"Emacs: re-builder + foreign-regexp.elでたのしい正規表現",[83,84,85],"Emacs: re-builder + foreign-regexp.elで","たのしい","正規表現","/notes/foreign-regexp-el","https://github.com/kissge/yo.eki.do/commits/master/notes/foreign-regexp-el.md",["Date","2022-06-11T07:52:23.000Z"],{"from":12,"title":81,"date":90,"tags":91},["Date","2014-12-19T23:30:53.000Z"],[44],[93],{"name":44,"kind":47,"urlPath":48},{"name":95,"nameSegmented":96,"kind":7,"urlPath":103,"historyURL":104,"lastModified":105,"attributes":106,"tags":108,"isEmpty":49},"Cygwin/X でウィンドウをリサイズしようとすると高さが潰れてしまう",[97,98,99,100,101,102],"Cygwin/X で","ウィンドウを","リサイズしようと","すると","高さが","潰れてしまう","/notes/window-resize","https://github.com/kissge/yo.eki.do/commits/master/notes/window-resize.md",["Date","2022-04-17T12:08:43.000Z"],{"from":12,"title":95,"date":107},["Date","2014-08-05T04:38:45.000Z"],[],{"name":110,"nameSegmented":111,"kind":7,"urlPath":117,"historyURL":118,"lastModified":119,"attributes":120,"tags":122,"isEmpty":49},"Emacs 24 でクリップボードとの連携が上手くいかなくなった",[112,113,114,115,116],"Emacs 24 で","クリップボードとの","連携が","上手く","いかなくなった","/notes/emacs24","https://github.com/kissge/yo.eki.do/commits/master/notes/emacs24.md",["Date","2022-04-17T12:14:26.000Z"],{"from":12,"title":110,"date":121},["Date","2014-07-23T22:14:19.000Z"],[],{"name":124,"nameSegmented":125,"kind":7,"urlPath":128,"historyURL":129,"lastModified":130,"attributes":131,"tags":133,"isEmpty":49},"Emacs: git-gutter が便利過ぎる",[126,127],"Emacs: git-gutter が","便利過ぎる","/notes/git-gutter","https://github.com/kissge/yo.eki.do/commits/master/notes/git-gutter.md",["Date","2022-04-17T12:08:43.000Z"],{"from":12,"title":124,"date":132},["Date","2014-07-23T19:15:10.000Z"],[]],"uses":{"url":1}}]}
